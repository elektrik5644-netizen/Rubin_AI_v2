# 🧠 Диаграмма архитектуры нейронной сети Rubin AI

## 📊 Общая архитектура

```
┌─────────────────────────────────────────────────────────────────┐
│                    RUBIN AI NEURAL SYSTEM                      │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    ВХОДНОЕ СООБЩЕНИЕ                            │
│                    "Как работает сервопривод?"                 │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│              SENTENCE TRANSFORMER (all-MiniLM-L6-v2)           │
│                    Создание эмбеддинга                          │
│                    [384 измерения]                              │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    NEURAL NETWORK                               │
│                                                                 │
│  Input Layer (384) → Hidden 1 (512) → Hidden 2 (256) → Hidden 3 (128) → Output (10) │
│       │                │                │                │                │
│   Embedding         ReLU + Dropout   ReLU + Dropout    ReLU         Softmax │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    КЛАССИФИКАЦИЯ                                │
│                                                                 │
│  Категории:                                                    │
│  • математика (0.1)                                            │
│  • физика (0.05)                                               │
│  • электротехника (0.8) ← ВЫБРАНО                              │
│  • программирование (0.02)                                     │
│  • геометрия (0.01)                                            │
│  • химия (0.01)                                                │
│  • общие_вопросы (0.01)                                        │
│                                                                 │
│  Уверенность: 80%                                              │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│              ГЕНЕРАТОР ОТВЕТОВ ПО КАТЕГОРИИ                    │
│                                                                 │
│  Категория: электротехника                                     │
│  → Специализированный ответ о сервоприводах                    │
│  → Интеграция с базой знаний                                   │
│  → Техническая документация                                    │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    ФИНАЛЬНЫЙ ОТВЕТ                              │
│                                                                 │
│  🔌 **СЕРВОПРИВОДЫ - ОСНОВЫ**                                  │
│                                                                 │
│  Сервопривод - это система управления, состоящая из:           │
│  1. Двигателя (синхронного или асинхронного)                   │
│  2. Датчика обратной связи (энкодера или резолвера)            │
│  3. Контроллера (устройства управления)                        │
│                                                                 │
│  🧠 **Нейронная сеть:** Категория 'электротехника' (уверенность: 80%) │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 Процесс обучения

```
┌─────────────────────────────────────────────────────────────────┐
│                    ОБРАТНАЯ СВЯЗЬ                               │
│                                                                 │
│  Пользователь: "Ответ был полезен" (рейтинг: 5/5)              │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    ОБНОВЛЕНИЕ МОДЕЛИ                            │
│                                                                 │
│  1. Сохранение данных в neural_training_data.jsonl             │
│  2. Обновление весов намерений                                 │
│  3. Адаптация под пользователя                                 │
│  4. Сохранение модели в rubin_neural_model.pth                 │
└─────────────────────────────────────────────────────────────────┘
```

## 🏗️ Интеграция с AI провайдерами

```
┌─────────────────────────────────────────────────────────────────┐
│                    NEURAL RUBIN AI                             │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│              ИНТЕЛЛЕКТУАЛЬНЫЙ ДИСПЕТЧЕР                        │
│                                                                 │
│  Анализ сложности вопроса → Выбор AI провайдера                │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    AI ПРОВАЙДЕРЫ                                │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ Z.AI GLM-4.5│  │ Claude 3    │  │ Gemini 2.0  │             │
│  │ -Air        │  │ Haiku       │  │ Flash       │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ Hugging Face│  │ Google Cloud│  │ IBM Watson  │             │
│  │ Models      │  │ AI          │  │             │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└─────────────────────────────────────────────────────────────────┘
```

## 📊 База данных обучения

```
┌─────────────────────────────────────────────────────────────────┐
│                    RUBIN_LEARNING.DB                           │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    ТАБЛИЦЫ ОБУЧЕНИЯ                            │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │interactions │  │   metrics   │  │user_profiles│             │
│  │- диалоги    │  │- производит.│  │- профили    │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │intent_weights│  │  keywords   │  │user_patterns│             │
│  │- веса       │  │- ключ.слова │  │- паттерны   │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │error_corrections│learning_stats│  ml_models   │             │
│  │- исправления│  │- статистика │  │- ML модели  │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└─────────────────────────────────────────────────────────────────┘
```

## 🎯 Специализированные знания

```
┌─────────────────────────────────────────────────────────────────┐
│                    ТЕХНИЧЕСКИЕ ОБЛАСТИ                         │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │Промышленная │  │Программир.  │  │Электротехн. │             │
│  │автоматизация│  │             │  │             │             │
│  │• PMAC       │  │• Python     │  │• Схемы      │             │
│  │• Сервопривод│  │• C++        │  │• Компоненты │             │
│  │• Энкодеры   │  │• PLC        │  │• Расчеты    │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │Радиомеханика│  │Системы упр. │  │Математика   │             │
│  │• Антенны    │  │• ПИД        │  │• Алгебра    │             │
│  │• Передатчики│  │• ЛИР        │  │• Геометрия  │             │
│  │• Приемники  │  │• Адаптивные │  │• Физика     │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└─────────────────────────────────────────────────────────────────┘
```

## 🚀 Результат интеграции

**Rubin AI теперь:**
- ✅ **Настоящая нейронная сеть** (не просто правила)
- ✅ **Обучается и развивается** с каждым диалогом
- ✅ **Классифицирует вопросы** автоматически
- ✅ **Показывает уверенность** в ответах
- ✅ **Сохраняет и загружает** модель
- ✅ **Работает на CPU и GPU**
- ✅ **Совместим с современными ML библиотеками**
- ✅ **Интегрирован с множественными AI провайдерами**
- ✅ **Специализированные знания** по техническим областям












