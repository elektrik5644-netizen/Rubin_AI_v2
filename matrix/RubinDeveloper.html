<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Rubin Developer - –û–∫–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</title>
    
    <!-- 
    ===================================================================================
    RUBIN DEVELOPER - –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø –°–†–ï–î–ê –†–ê–ó–†–ê–ë–û–¢–ö–ò
    ===================================================================================
    
    –û–ü–ò–°–ê–ù–ò–ï:
    –≠—Ç–æ –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Rubin Developer - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
    –¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∏, —Ä–∞–¥–∏–æ–º–µ—Ö–∞–Ω–∏–∫–∏ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.
    
    –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò:
    1. –ß–∞—Ç —Å Rubin AI - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
    2. –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π
    3. –û—Ç–ª–∞–¥–∫–∞ - –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
    4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API
    5. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π
    6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    
    –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:
    - Frontend: HTML5 + CSS3 + JavaScript (ES6+)
    - Backend: Python Flask —Å–µ—Ä–≤–µ—Ä—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö
    - API: RESTful –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
    - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π –∏ –∏—Å—Ç–æ—Ä–∏–∏
    
    –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê RUBIN AI v2:
    
    –û–°–ù–û–í–ù–´–ï –°–ï–†–í–ï–†–´:
    - üß† Smart Dispatcher (–ø–æ—Ä—Ç 8080) - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
    - üß† General API (–ø–æ—Ä—Ç 8085) - –æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ —Å–ø—Ä–∞–≤–∫–∞
    - üß† –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–ø–æ—Ä—Ç 8086) - –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ —Ä–∞—Å—á–µ—Ç—ã
    - üß† –≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞ (–ø–æ—Ä—Ç 8087) - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è
    - üß† –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ—Ä—Ç 8088) - –∫–æ–¥ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
    - üß† –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–ø–æ—Ä—Ç 9000) - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è
    - üß† –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å (–ø–æ—Ä—Ç 8090) - –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ AI
    
    –ù–û–í–´–ï –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –°–ï–†–í–ï–†–´:
    - üîß PLC Analysis (–ø–æ—Ä—Ç 8099) - –∞–Ω–∞–ª–∏–∑ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PLC –ø—Ä–æ–≥—Ä–∞–º–º
    - üßÆ Advanced Math (–ø–æ—Ä—Ç 8100) - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
    - üìä Data Processing (–ø–æ—Ä—Ç 8101) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
    - üîç Search Engine (–ø–æ—Ä—Ç 8102) - –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
    - üõ†Ô∏è System Utils (–ø–æ—Ä—Ç 8103) - —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
    - üé® GAI Server (–ø–æ—Ä—Ç 8104) - –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ò–ò –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    - üéõÔ∏è Unified Manager (–ø–æ—Ä—Ç 8084) - –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    - üõ°Ô∏è Ethical Core (–ø–æ—Ä—Ç 8105) - –∫–æ–Ω—Ç—Ä–æ–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —ç—Ç–∏–∫–∏
    
    –í–°–ï–ì–û: 16 —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏!
    
    –í–°–ï –ó–ê–ü–†–û–°–´ –û–ë–†–ê–ë–ê–¢–´–í–ê–Æ–¢–°–Ø SMART DISPATCHER –° –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ô –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–ò–ï–ô!
    
    –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–ê–Ø –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–ò–Ø:
    –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö
    –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –º–æ–¥—É–ª—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
    
    ===================================================================================
    -->
    <style>
        /* 
        ===================================================================================
        CSS –°–¢–ò–õ–ò - –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
        ===================================================================================
        
        –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* 
        –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –°–¢–†–ê–ù–ò–¶–´
        - –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –≤ —Å—Ç–∏–ª–µ VS Code
        - –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –∫–æ–¥–∞
        - –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –±–µ–∑ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        */
        body {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            background: #0d1117;
            color: #c9d1d9;
            overflow: hidden;
            height: 100vh;
            padding-bottom: 25px;
        }

        /* 
        ===================================================================================
        –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
        ===================================================================================
        
        –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏:
        - üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ - —á–∞—Ç –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞
        - üêõ –û—Ç–ª–∞–¥–∫–∞ - –∫–æ–Ω—Å–æ–ª—å –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
        - üìä –ê–Ω–∞–ª–∏–∑ - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
        - ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        - üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - —Å–ø—Ä–∞–≤–∫–∞
        - üîÑ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏
        */
        .dev-menu {
            background: #161b22;
            border-bottom: 1px solid #30363d;
            height: 35px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-size: 12px;
        }

        .dev-menu-item {
            color: #c9d1d9;
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 4px;
            margin-right: 8px;
            border: 1px solid transparent;
        }

        .dev-menu-item:hover {
            background: #21262d;
            border-color: #30363d;
        }

        .dev-menu-item.active {
            background: #1f6feb;
            color: white;
        }

        /* –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ */
        .dev-toolbar {
            background: #161b22;
            border-bottom: 1px solid #30363d;
            height: 40px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            gap: 12px;
        }

        .dev-button {
            background: #21262d;
            color: #c9d1d9;
            border: 1px solid #30363d;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-family: inherit;
        }

        .dev-button:hover {
            background: #30363d;
            border-color: #58a6ff;
        }

        .dev-button.primary {
            background: #1f6feb;
            color: white;
            border-color: #1f6feb;
        }

        .dev-button.danger {
            background: #da3633;
            color: white;
            border-color: #da3633;
        }

        .dev-button.success {
            background: #238636;
            color: white;
            border-color: #238636;
        }

        .dev-button.small {
            padding: 4px 8px;
            font-size: 9px;
            min-width: auto;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ */
        .dev-container {
            display: grid;
            grid-template-columns: 300px 1fr 350px;
            grid-template-rows: 1fr 250px;
            height: calc(100vh - 105px);
            gap: 1px;
            background: #30363d;
        }

        /* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ */
        .modules-panel {
            background: #161b22;
            border-right: 1px solid #30363d;
            display: flex;
            flex-direction: column;
        }

        .panel-header {
            background: #21262d;
            padding: 10px;
            border-bottom: 1px solid #30363d;
            font-weight: bold;
            font-size: 10px;
        }

        .module-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .module-item {
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 4px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .module-item:hover {
            border-color: #58a6ff;
        }

        .module-item.online {
            border-left: 4px solid #238636;
        }

        .module-item.offline {
            border-left: 4px solid #da3633;
        }

        .module-name {
            font-weight: bold;
            margin-bottom: 1px;
        }

        .module-status {
            font-size: 3px;
            color: #8b949e;
        }

        .module-port {
            font-size: 3px;
            color: #58a6ff;
            margin-top: 3px;
        }

        .module-description {
            font-size: 8px;
            color: #8b949e;
            margin-top: 3px;
            font-style: italic;
        }

        .module-icon {
            margin-right: 5px;
            font-size: 6px;
        }

        .category-header {
            background-color: #21262d;
            padding: 8px 10px;
            border-bottom: 1px solid #30363d;
            margin-top: 10px;
            border-radius: 4px 4px 0 0;
        }

        .category-header h4 {
            color: #f0f6fc;
            font-size: 12px;
            font-weight: 600;
            margin: 0;
        }

        .category-header:first-child {
            margin-top: 0;
        }

        /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å - –†–µ–¥–∞–∫—Ç–æ—Ä –∏ –æ—Ç–ª–∞–¥–∫–∞ (—Å–¥–µ–ª–∞–Ω–∞ "–ª–∏–ø–∫–æ–π") */
        .main-dev-area {
            background: #0d1117;
            display: flex;
            flex-direction: column;
            position: sticky; /* –î–µ–ª–∞–µ–º –±–ª–æ–∫ "–ª–∏–ø–∫–∏–º", —á—Ç–æ–±—ã –æ–Ω –Ω–µ "—É–µ–∑–∂–∞–ª" */
            top: 0; /* –ü—Ä–∏–ª–∏–ø–∞—Ç—å –∫ –≤–µ—Ä—Ö—É —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            align-self: start; /* –í–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã sticky –≤ grid-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ */
        }

        .dev-tabs {
            background: #161b22;
            border-bottom: 1px solid #30363d;
            height: 35px;
            display: flex;
            align-items: center;
            padding: 0 10px;
        }

        .dev-tab {
            background: #21262d;
            color: #c9d1d9;
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 4px 4px 0 0;
            margin-right: 2px;
            font-size: 11px;
            border: 1px solid #30363d;
            border-bottom: none;
        }

        .dev-tab.active {
            background: #0d1117;
            border-color: #1f6feb;
        }

        .dev-tab:hover {
            background: #30363d;
        }

        .dev-content {
            flex: 1;
            padding: 20px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ */
        .dev-tab-content {
            display: none;
            height: 100%;
            overflow: hidden;
        }

        .dev-tab-content.active {
            display: flex;
            flex-direction: column;
        }

        /* –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ */
        .code-editor {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 4px;
            height: calc(100% - 30px);
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            color: #c9d1d9;
            padding: 15px;
            outline: none;
            resize: none;
        }

        /* –ß–∞—Ç: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Å —Å–µ—Ç–∫–æ–π 1fr + auto, —á—Ç–æ–±—ã –ø–∞–Ω–µ–ª—å –≤–≤–æ–¥–∞ –≤—Å–µ–≥–¥–∞ –±—ã–ª–∞ –≤–Ω–∏–∑—É,
           –∞ —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞–Ω–∏–º–∞–ª –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –º–µ—Å—Ç–æ –∏ —Å–∫—Ä–æ–ª–ª–∏–ª—Å—è */
        .chat-container {
            height: 600px;              /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —á–∞—Ç–∞ */
            max-height: 80vh;           /* –ú–∞–∫—Å–∏–º—É–º 80% –æ—Ç –≤—ã—Å–æ—Ç—ã —ç–∫—Ä–∞–Ω–∞ */
            display: grid;
            grid-template-rows: 1fr auto;
            position: relative;
            border: 1px solid #30363d;  /* –í–∏–¥–∏–º–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–∞ */
            border-radius: 8px;         /* –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            overflow: hidden;           /* –°–∫—Ä—ã–≤–∞–µ–º –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ */
        }

        .chat-messages {
            overflow-y: auto;
            min-height: 0; /* –≤–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞ –≤–Ω—É—Ç—Ä–∏ grid */
            background: #252526;
            border-radius: 5px;
            padding: 10px;
        }

        .chat-input-container {
            display: flex;
            gap: 8px;
            padding: 10px;
            border-top: 1px solid #30363d;
            align-items: center;
            background: #0d1117;
            flex-wrap: wrap;
            min-height: 60px;
        }

        .chat-messages .debug-entry {
            margin-bottom: 8px; /* –£–º–µ–Ω—å—à–µ–Ω –æ—Ç—Å—Ç—É–ø */
            line-height: 1.4; /* –ë–æ–ª–µ–µ –ø–ª–æ—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç */
            font-size: 10px; /* –£–º–µ–Ω—å—à–µ–Ω —à—Ä–∏—Ñ—Ç */
            white-space: pre-wrap; /* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ */
            overflow-wrap: break-word; /* –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞/–ø—É—Ç–∏ */
            padding: 8px; /* –£–º–µ–Ω—å—à–µ–Ω –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ—Ç—Å—Ç—É–ø */
            border-radius: 5px;
            border-left: 3px solid transparent;
        }

        .chat-messages .debug-entry.info {
            background: rgba(56, 139, 253, 0.1);
            border-left-color: #388bfd;
        }

        .chat-messages .debug-entry.success {
            background: rgba(46, 160, 67, 0.1);
            border-left-color: #2ea043;
        }

        .chat-messages .debug-entry br {
            margin-bottom: 5px;
        }

        /* (–¥—É–±–ª–∏—Ä—É—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ –æ—Å—Ç–∞–≤–ª–µ–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º) */
        .chat-input-container { gap: 10px; }

        .chat-input {
            flex: 1;
            background: #252526;
            border: 1px solid #30363d;
            color: #c9d1d9;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
            font-family: inherit;
        }

        .chat-input:focus {
            outline: none;
            border-color: #58a6ff;
        }

        .send-button {
            background: #1f6feb;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
        }

        .send-button:hover {
            background: #005a9e;
        }

        /* –ö–Ω–æ–ø–∫–∏ –≤ —á–∞—Ç–µ */
        .chat-input-container .utility-button {
            background: #30363d;
            color: #c9d1d9;
            border: 1px solid #30363d;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            font-size: 9px;
            white-space: nowrap;
            min-width: 70px;
            flex-shrink: 0;
        }

        .chat-input-container .utility-button:hover {
            background: #58a6ff;
            color: white;
        }

        .chat-input-container .utility-button:active {
            transform: translateY(1px);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .chat-container {
                height: 500px;              /* –ú–µ–Ω—å—à–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                max-height: 70vh;           /* –ú–∞–∫—Å–∏–º—É–º 70% –æ—Ç –≤—ã—Å–æ—Ç—ã —ç–∫—Ä–∞–Ω–∞ */
            }
            
            .chat-input-container {
                flex-direction: column;
                align-items: stretch;
                gap: 5px;
            }
            
            .chat-input-container .utility-button {
                min-width: auto;
                width: 100%;
            }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 480px) {
            .chat-container {
                height: 400px;              /* –ï—â–µ –º–µ–Ω—å—à–∞—è –≤—ã—Å–æ—Ç–∞ */
                max-height: 60vh;           /* –ú–∞–∫—Å–∏–º—É–º 60% –æ—Ç –≤—ã—Å–æ—Ç—ã —ç–∫—Ä–∞–Ω–∞ */
            }
        }

        /* –ö–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏ */
        .debug-console {
            background: #000;
            border: 1px solid #30363d;
            border-radius: 4px;
            height: 100%;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            color: #00ff00;
            padding: 15px;
            overflow-y: auto;
        }

        .debug-entry {
            margin-bottom: 8px;
            padding: 5px;
            border-radius: 3px;
        }

        .debug-entry.info {
            background: rgba(56, 139, 253, 0.1);
            border-left: 3px solid #388bfd;
        }

        .debug-entry.warning {
            background: rgba(187, 128, 9, 0.1);
            border-left: 3px solid #bb8009;
        }

        .debug-entry.error {
            background: rgba(248, 81, 73, 0.1);
            border-left: 3px solid #f85149;
        }

        .debug-entry.success {
            background: rgba(46, 160, 67, 0.1);
            border-left: 3px solid #2ea043;
        }

        /* –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –ê–Ω–∞–ª–∏–∑ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ */
        .analysis-panel {
            background: #161b22;
            border-left: 1px solid #30363d;
            display: flex;
            flex-direction: column;
        }

        .analysis-section {
            border-bottom: 1px solid #30363d;
            padding: 13px;
        }

        .analysis-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #58a6ff;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 12px;
        }

        .metric-value {
            color: #8b949e;
        }

        .metric-value.good {
            color: #238636;
        }

        .metric-value.warning {
            color: #bb8009;
        }

        .metric-value.bad {
            color: #da3633;
        }

        /* –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å - –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ */
        .bottom-dev-panel {
            grid-column: 1 / -1;
            background: #161b22;
            border-top: 1px solid #30363d;
            display: flex;
            margin-bottom: 25px;
        }

        .bottom-dev-tabs {
            background: #21262d;
            width: 200px;
            border-right: 1px solid #30363d;
        }

        .bottom-dev-tab {
            padding: 12px 15px;
            cursor: pointer;
            border-bottom: 1px solid #30363d;
            font-size: 11px;
        }

        .bottom-dev-tab.active {
            background: #1f6feb;
            color: white;
        }

        .bottom-dev-tab:hover {
            background: #30363d;
        }

        .bottom-dev-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        /* –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã */
        .chart-container {
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .chart-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #58a6ff;
        }

        .chart-placeholder {
            height: 100px;
            background: #0d1117;
            border: 1px dashed #30363d;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #8b949e;
            font-size: 12px;
        }

        /* –£—Ç–∏–ª–∏—Ç—ã */
        .utility-panel {
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 4px;
            padding: 13px;
            margin-bottom: 15px;
        }

        .utility-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #58a6ff;
        }

        .utility-button {
            background: #30363d;
            color: #c9d1d9;
            border: 1px solid #30363d;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 10px;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .utility-button:hover {
            background: #58a6ff;
            color: white;
        }

        /* –°—Ç–∞—Ç—É—Å –±–∞—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ */
        .dev-status-bar {
            background: #1f6feb;
            color: white;
            height: 20px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-size: 11px;
            font-family: inherit;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .dev-status-item {
            margin-right: 20px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* –°–∫—Ä–æ–ª–ª–±–∞—Ä—ã */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #161b22;
        }

        ::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #58a6ff;
        }
    /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —á–∞—Ç–∞ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
        }
        .modal-window {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 70%;
            height: 80%;
            max-width: 900px;
            background: #2d2d30;
            border-radius: 8px;
            z-index: 1001;
            display: flex;
            flex-direction: column;
            box-shadow: 0 5px 25px rgba(0,0,0,0.5);
        }
        .modal-header {
            padding: 10px 15px;
            background: #007acc;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 8px 8px 0 0;
        }
        .modal-close {
            background: none; border: none; color: white; font-size: 24px; cursor: pointer;
        }
        .modal-content {
            flex: 1;
            padding: 15px;
            display: flex;
            overflow: hidden;
        }
        .modal-content .chat-container {
            width: 100%;
        }
        .modal-content .chat-messages {
            background: #1e1e1e;
        }
        .message {
            margin-bottom: 15px; padding: 10px 15px; border-radius: 10px; max-width: 80%; line-height: 1.4; text-align: left;
        }
        .message.user {
            background: #007acc; color: white; margin-left: auto;
        }
        .message.rubin {
            background: #3e3e42; color: #d4d4d4; margin-right: auto;
        }
        .emoji {
            font-size: 1.2em; margin-right: 8px; display: inline-block; transform: translateY(2px);
        }

    </style>
</head>
<body>
    <!-- 
    ===================================================================================
    HTML –°–¢–†–£–ö–¢–£–†–ê –ò–ù–¢–ï–†–§–ï–ô–°–ê
    ===================================================================================
    
    –°–¢–†–£–ö–¢–£–†–ê –°–¢–†–ê–ù–ò–¶–´:
    1. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
    2. –°—Ç–∞—Ç—É—Å –±–∞—Ä - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
    3. –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç - —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å
    4. –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å - –ª–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
    
    ===================================================================================
    -->
    
    <!-- 
    –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
    –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    -->
    <div class="dev-menu">
        <div class="dev-menu-item active">üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</div>
        <div class="dev-menu-item">üêõ –û—Ç–ª–∞–¥–∫–∞</div>
        <div class="dev-menu-item">üìä –ê–Ω–∞–ª–∏–∑</div>
        <div class="dev-menu-item">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        <div class="dev-menu-item">üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</div>
        <div class="dev-menu-item">üîÑ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ -->
    <div class="dev-toolbar">
        <button class="dev-button primary" onclick="launchAllModules()">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –º–æ–¥—É–ª–∏</button>
        <button class="dev-button">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ</button>
        <button class="dev-button" onclick="restartSystem()" style="background: #d73a49; color: white;">üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
        <button class="dev-button">üìù –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å</button>
        <button class="dev-button">üîç –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞</button>
        <button class="dev-button">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
        <button class="dev-button success">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API</button>
        <button class="dev-button danger">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
        <button class="dev-button">üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</button>
        <button class="dev-button">üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</button>
        <button class="dev-button success" id="startAutoBtn">‚ñ∂Ô∏è –ê–≤—Ç–æ-–≤–æ–ø—Ä–æ—Å—ã</button>
        <button class="dev-button danger" id="stopAutoBtn" style="display:none;">‚èπÔ∏è –°—Ç–æ–ø</button>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ -->
    <div class="dev-container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ -->
        <div class="modules-panel">
            <div class="panel-header">
                üì¶ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ú–û–î–£–õ–Ø–ú–ò
            </div>
            <div class="module-list" id="moduleList">
                <!-- –ú–æ–¥—É–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å - –†–µ–¥–∞–∫—Ç–æ—Ä –∏ –æ—Ç–ª–∞–¥–∫–∞ -->
        <div class="main-dev-area">
            <div class="dev-tabs">
                <div class="dev-tab active" onclick="switchDevTab('chat')">üí¨ –ß–∞—Ç —Å Rubin</div>
                <div class="dev-tab" onclick="switchDevTab('editor')">üìù –†–µ–¥–∞–∫—Ç–æ—Ä</div>
                <div class="dev-tab" onclick="switchDevTab('debug')">üêõ –û—Ç–ª–∞–¥–∫–∞</div>
                <div class="dev-tab" onclick="switchDevTab('testing')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                <div class="dev-tab" onclick="switchDevTab('deployment')">üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</div>
            </div>
            <!-- 
            –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ - –†–ê–ë–û–ß–ê–Ø –û–ë–õ–ê–°–¢–¨
            –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            -->
            <div class="dev-content">
                <!-- 
                –ß–ê–¢ –° RUBIN AI
                –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π
                –í–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π
                -->
                <div class="dev-tab-content active" id="chat">
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div class="debug-entry info">
                                ü§ñ –ü—Ä–∏–≤–µ—Ç! –Ø Rubin - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã!
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" id="messageInput" class="chat-input" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å..." onkeypress="handleKeyPress(event)">
                            <button type="button" id="sendBtn" onclick="sendMessage()" class="send-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                            <button onclick="testControllersModule().then(data => { if(data) addMessage('ai', '‚úÖ –ú–æ–¥—É–ª—å PMAC —Ä–∞–±–æ—Ç–∞–µ—Ç!'); else addMessage('ai', '‚ùå –ú–æ–¥—É–ª—å PMAC –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω'); })" class="utility-button">üîç PMAC</button>
                            <button onclick="testNeuralNetwork().then(data => { if(data) addMessage('ai', '‚úÖ –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç!'); else addMessage('ai', '‚ùå –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞'); })" class="utility-button">üß† –ù–µ–π—Ä–æ—Å–µ—Ç—å</button>
                            <button onclick="checkAllModulesStatus().then(results => { const online = results.filter(r => r).length; addMessage('ai', `üìä –°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª–µ–π: ${online}/${modules.length} –æ–Ω–ª–∞–π–Ω`); })" class="utility-button">üîÑ –°—Ç–∞—Ç—É—Å</button>
                            <button onclick="checkAllAPIs()" class="utility-button">üîå API</button>
                            <button onclick="testAllNewServers()" class="utility-button">üöÄ –ù–æ–≤—ã–µ</button>
                            <button onclick="runComprehensiveAPITest()" class="utility-button">üß™ –í—Å–µ API</button>
                            <button onclick="testSmartDispatcherFunctionality()" class="utility-button">üéØ Smart DP</button>
                            <button onclick="runFullSystemTest()" class="utility-button">üèÅ –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç</button>
                            <button onclick="checkSystemErrors()" class="utility-button">üö® –û—à–∏–±–∫–∏</button>
                            <button onclick="getSystemHealth()" class="utility-button">üíö –ó–¥–æ—Ä–æ–≤—å–µ</button>
                            <button onclick="scrollToTop()" class="utility-button">‚¨ÜÔ∏è –í–≤–µ—Ä—Ö</button>
                        </div>
                    </div>
                </div>

                <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ -->
                <div class="dev-tab-content" id="editor">
                    <textarea class="code-editor" id="codeEditor" placeholder="// –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∑–¥–µ—Å—å...
// –ü—Ä–∏–º–µ—Ä:
class RubinModule {
    constructor() {
        this.name = 'New Module';
        this.version = '1.0.0';
    }
    
    init() {
        console.log('Module initialized');
    }
}"></textarea>
                </div>

                <!-- –ö–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏ -->
                <div class="dev-tab-content" id="debug">
                    <div class="debug-console" id="debugConsole">
                        <div class="debug-entry info">
                            [INFO] Rubin Developer Console –∑–∞–≥—Ä—É–∂–µ–Ω
                        </div>
                        <div class="debug-entry success">
                            [SUCCESS] –í—Å–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
                        </div>
                        <div class="debug-entry warning">
                            [WARNING] –ù–µ–∫–æ—Ç–æ—Ä—ã–µ API –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
                        </div>
                    </div>
                </div>

                <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
                <div class="dev-tab-content" id="testing">
                    <div class="utility-panel">
                        <div class="utility-title">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π</div>
                        <button class="utility-button" onclick="testModule('electrical')">–¢–µ—Å—Ç —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∏</button>
                        <button class="utility-button" onclick="testModule('radiomechanics')">–¢–µ—Å—Ç —Ä–∞–¥–∏–æ–º–µ—Ö–∞–Ω–∏–∫–∏</button>
                        <button class="utility-button" onclick="testModule('controllers')">–¢–µ—Å—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤</button>
                        <button class="utility-button" onclick="testModule('ai-chat')">–¢–µ—Å—Ç AI —á–∞—Ç–∞</button>
                        <button class="utility-button" onclick="runAllTests()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã</button>
                    </div>
                    <div id="testResults"></div>
                </div>

                <!-- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ -->
                <div class="dev-tab-content" id="deployment">
                    <div class="utility-panel">
                        <div class="utility-title">üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ</div>
                        <button class="utility-button" onclick="deployModule()">–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–æ–¥—É–ª—å</button>
                        <button class="utility-button" onclick="updateSystem()">–û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                        <button class="utility-button" onclick="restartSystem()" style="background: #d73a49; color: white;">üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                        <button class="utility-button" onclick="backupSystem()">–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é</button>
                        <button class="utility-button" onclick="restoreSystem()">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                    </div>
                    <div id="deploymentStatus"></div>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –ê–Ω–∞–ª–∏–∑ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ -->
        <div class="analysis-panel">
            <div class="analysis-section">
                <div class="analysis-title">üìä –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´</div>
                <div class="metric">
                    <span>–¶–ü–£:</span>
                    <span class="metric-value good" id="cpuUsage">12%</span>
                </div>
                <div class="metric">
                    <span>–ü–∞–º—è—Ç—å:</span>
                    <span class="metric-value good" id="memoryUsage">45%</span>
                </div>
                <div class="metric">
                    <span>–î–∏—Å–∫:</span>
                    <span class="metric-value warning" id="diskUsage">78%</span>
                </div>
                <div class="metric">
                    <span>–°–µ—Ç—å:</span>
                    <span class="metric-value good" id="networkUsage">23%</span>
                </div>
            </div>

            <div class="analysis-section">
                <div class="analysis-title">üîå API –ú–û–î–£–õ–ò</div>
                <div class="metric">
                    <span>–≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞ (8087):</span>
                    <span class="metric-value" id="electricalStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
                <div class="metric">
                    <span>LocalAI (9000):</span>
                    <span class="metric-value" id="controllersStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
                <div class="metric">
                    <span>Smart Dispatcher (8080):</span>
                    <span class="metric-value" id="aiChatStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
                <div class="metric">
                    <span>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (8086):</span>
                    <span class="metric-value" id="mathematicsStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
                <div class="metric">
                    <span>–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (8088):</span>
                    <span class="metric-value" id="programmingStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
                <div class="metric">
                    <span>–û–±—â–∏–π —Å–µ—Ä–≤–µ—Ä (8085):</span>
                    <span class="metric-value" id="generalStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
                <div class="metric">
                    <span>–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä:</span>
                    <span class="metric-value" id="mainServerStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
                <div class="metric">
                    <span>–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:</span>
                    <span class="metric-value" id="webInterfaceStatus">–ü–†–û–í–ï–†–ö–ê...</span>
                </div>
            </div>

            <div class="analysis-section">
                <div class="analysis-title">üìà –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨</div>
                <div class="chart-container">
                    <div class="chart-title">–ó–∞–ø—Ä–æ—Å—ã –≤ –º–∏–Ω—É—Ç—É</div>
                    <div class="chart-placeholder">
                        –ì—Ä–∞—Ñ–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ API
                    </div>
                </div>
            </div>

            <div class="analysis-section">
                <div class="analysis-title">‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø</div>
                <div id="warningsList">
                    <div class="debug-entry warning">
                        –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –º–æ–¥—É–ª–µ–π
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å - –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ -->
        <div class="bottom-dev-panel">
            <div class="bottom-dev-tabs">
                <div class="bottom-dev-tab active" onclick="switchBottomDevTab('logs')">üìã –õ–æ–≥–∏</div>
                <div class="bottom-dev-tab" onclick="switchBottomDevTab('performance')">‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                <div class="bottom-dev-tab" onclick="switchBottomDevTab('errors')">‚ùå –û—à–∏–±–∫–∏</div>
                <div class="bottom-dev-tab" onclick="switchBottomDevTab('security')">üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
            </div>
            <!-- 
            –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ - –õ–û–ì–ò –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì
            –°–æ–¥–µ—Ä–∂–∏—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏, –æ—à–∏–±–∫–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
            -->
            <div class="bottom-dev-content">
                <!-- 
                –°–ò–°–¢–ï–ú–ù–´–ï –õ–û–ì–ò
                –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã
                -->
                <div class="bottom-dev-tab-content active" id="logs">
                    <h4>üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏</h4>
                    <div id="systemLogs">
                        <div class="debug-entry info">[2024-01-01 12:00:00] –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞</div>
                        <div class="debug-entry success">[2024-01-01 12:00:01] –í—Å–µ –º–æ–¥—É–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã</div>
                        <div class="debug-entry info">[2024-01-01 12:00:02] API —Å–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã</div>
                    </div>
                </div>
                <div class="bottom-dev-tab-content" id="performance">
                    <h4>‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h4>
                    <div class="chart-container">
                        <div class="chart-title">–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API</div>
                        <div class="chart-placeholder">
                            –ì—Ä–∞—Ñ–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
                        </div>
                    </div>
                </div>
                <div class="bottom-dev-tab-content" id="errors">
                    <h4>‚ùå –û—à–∏–±–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h4>
                    <div id="errorLogs">
                        <div class="debug-entry error">–û—à–∏–±–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ</div>
                    </div>
                </div>
                <div class="bottom-dev-tab-content" id="security">
                    <h4>üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h4>
                    <div id="securityLogs">
                        <div class="debug-entry success">–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 
    –°–¢–ê–¢–£–° –ë–ê–† –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
    –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ –º–æ–¥—É–ª–µ–π
    -->
    <div class="dev-status-bar">
        <div class="dev-status-item">üöÄ Rubin Developer v1.0.0</div>
        <div class="dev-status-item">üîß –†–µ–∂–∏–º: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</div>
        <div class="dev-status-item">üìä –ú–æ–¥—É–ª–∏: 0/16 –û–ù–õ–ê–ô–ù</div>
        <div class="dev-status-item">üêõ –û—Ç–ª–∞–¥–∫–∞: –ê–∫—Ç–∏–≤–Ω–∞</div>
        <div class="dev-status-item">üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –û—Ç–ª–∏—á–Ω–∞—è</div>
    </div>

    <script>
        /* 
        ===================================================================================
        JAVASCRIPT - –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê RUBIN DEVELOPER
        ===================================================================================
        
        –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
        1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∞–º–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
        2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∫ –º–æ–¥—É–ª—è–º
        3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
        4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
        5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–æ–º
        6. –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        
        –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:
        - –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
        - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API —á–µ—Ä–µ–∑ fetch()
        - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏
        
        ===================================================================================
        */
        
        // 
        // –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
        // ===================================================================================
        // –•—Ä–∞–Ω—è—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –º–æ–¥—É–ª–µ–π
        //
        let currentDevTab = 'chat';        // –¢–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ (chat, debug, deployment)
        let currentBottomDevTab = 'logs';  // –¢–µ–∫—É—â–∞—è –≤–∫–ª–∞–¥–∫–∞ –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏ (logs, errors, security)
        // 
        // –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ú–û–î–£–õ–ï–ô –°–ò–°–¢–ï–ú–´
        // ===================================================================================
        // –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å - —ç—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Å–µ—Ä–≤–∏—Å —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º API
        // status: 'online' - –º–æ–¥—É–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç, 'offline' - –æ—Ç–∫–ª—é—á–µ–Ω
        // url - —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –º–æ–¥—É–ª—è
        //
        let modules = [
            { 
                name: 'Neural Dispatcher', 
                port: 8080, 
                status: 'offline', 
                url: 'http://localhost:8080/api/health',
                description: '–£–º–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä —Å –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç—å—é'
            },
            { 
                name: '–≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞', 
                port: 8087, 
                status: 'offline', 
                url: 'http://localhost:8087/api/electrical/status',
                description: '–†–∞—Å—á–µ—Ç—ã —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ø–µ–π, —Å—Ö–µ–º—ã, –∑–∞–∫–æ–Ω –û–º–∞, –ö–∏—Ä—Ö–≥–æ—Ñ–∞'
            },
            { 
                name: 'LocalAI', 
                port: 9000, 
                status: 'offline', 
                url: 'http://localhost:9000/api/controllers/topic/general',
                description: 'PMAC, PLC, –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è'
            },
            { 
                name: 'Smart Dispatcher', 
                port: 8080, 
                status: 'offline', 
                url: 'http://localhost:8080/api/health',
                description: '–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤'
            },
            { 
                name: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', 
                port: 8086, 
                status: 'offline', 
                url: 'http://localhost:8086/api/chat',
                description: '–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã –∏ —Ä–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–π'
            },
            { 
                name: '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', 
                port: 8088, 
                status: 'offline', 
                url: 'http://localhost:8088/api/programming/explain',
                description: '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è'
            },
            { 
                name: '–û–±—â–∏–π —Å–µ—Ä–≤–µ—Ä', 
                port: 8085, 
                status: 'offline', 
                url: 'http://localhost:8085/api/chat',
                description: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è'
            },
            
            // –ù–æ–≤—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
            { 
                name: 'PLC Analysis', 
                port: 8099, 
                status: 'offline', 
                url: 'http://localhost:8099/api/plc/health',
                description: '–ê–Ω–∞–ª–∏–∑ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PLC –ø—Ä–æ–≥—Ä–∞–º–º'
            },
            { 
                name: 'Advanced Math', 
                port: 8100, 
                status: 'offline', 
                url: 'http://localhost:8100/api/advanced_math/health',
                description: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è'
            },
            { 
                name: 'Data Processing', 
                port: 8101, 
                status: 'offline', 
                url: 'http://localhost:8101/api/data_processing/health',
                description: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö'
            },
            { 
                name: 'Search Engine', 
                port: 8102, 
                status: 'offline', 
                url: 'http://localhost:8102/api/search/health',
                description: '–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è'
            },
            { 
                name: 'System Utils', 
                port: 8103, 
                status: 'offline', 
                url: 'http://localhost:8103/api/system/health',
                description: '–°–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞'
            },
            { 
                name: 'GAI Server', 
                port: 8104, 
                status: 'offline', 
                url: 'http://localhost:8104/api/gai/health',
                description: '–ì–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ò–ò - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞'
            },
            { 
                name: 'Unified Manager', 
                port: 8084, 
                status: 'offline', 
                url: 'http://localhost:8084/api/system/health',
                description: '–ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏'
            },
            { 
                name: 'Ethical Core', 
                port: 8105, 
                status: 'offline', 
                url: 'http://localhost:8105/api/ethical/health',
                description: 'üõ°Ô∏è –≠—Ç–∏—á–µ—Å–∫–æ–µ –Ø–¥—Ä–æ - –∫–æ–Ω—Ç—Ä–æ–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —ç—Ç–∏–∫–∏'
            }
        ];

        // 
        // –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê –ú–û–î–£–õ–ï–ô
        // ===================================================================================
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–π
        async function checkModuleStatus(module) {
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 3000); // 3 —Å–µ–∫—É–Ω–¥—ã —Ç–∞–π–º–∞—É—Ç
                
                const response = await fetch(module.url, {
                    method: 'GET',
                    signal: controller.signal,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                clearTimeout(timeoutId);
                
                if (response.ok) {
                    module.status = 'online';
                    logDebug('success', `‚úÖ –ú–æ–¥—É–ª—å ${module.name} –¥–æ—Å—Ç—É–ø–µ–Ω`);
                    return true;
                } else {
                    module.status = 'offline';
                    logDebug('warning', `‚ö†Ô∏è –ú–æ–¥—É–ª—å ${module.name} –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (HTTP ${response.status})`);
                    return false;
                }
            } catch (error) {
                module.status = 'offline';
                if (error.name === 'AbortError') {
                    logDebug('warning', `‚è∞ –ú–æ–¥—É–ª—å ${module.name} –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (—Ç–∞–π–º–∞—É—Ç)`);
                } else {
                    logDebug('error', `‚ùå –ú–æ–¥—É–ª—å ${module.name} –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${error.message}`);
                }
                return false;
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
        async function checkAllModulesStatus() {
            logDebug('info', 'üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π...');
            
            const promises = modules.map(module => checkModuleStatus(module));
            const results = await Promise.all(promises);
            
            const onlineCount = results.filter(result => result).length;
            logDebug('info', `üìä –°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª–µ–π: ${onlineCount}/${modules.length} –æ–Ω–ª–∞–π–Ω`);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            initializeModules();
            updateModuleStatus();
            updateSystemStatus();
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            checkWebInterfaceStatus();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ —Å–∏—Å—Ç–µ–º—ã
            await checkSystemErrors();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
            await getSystemHealth();
            
            return results;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫ —Å–∏—Å—Ç–µ–º—ã
        async function checkSystemErrors() {
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Smart Dispatcher
                const dispatcherResponse = await fetch('http://localhost:8080/api/health', {
                    method: 'GET',
                    timeout: 3000
                });
                
                if (dispatcherResponse.ok) {
                    addMessage('ai', '‚úÖ Smart Dispatcher —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
                    logDebug('success', 'Smart Dispatcher –¥–æ—Å—Ç—É–ø–µ–Ω');
                } else {
                    addMessage('ai', '‚ùå Smart Dispatcher –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                    logDebug('error', 'Smart Dispatcher –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                }
            } catch (error) {
                addMessage('ai', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Smart Dispatcher');
                logDebug('error', `–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ${error.message}`);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —Å–∏—Å—Ç–µ–º—ã
        function displaySystemErrors(errors) {
            const errorCount = errors.length;
            
            if (errorCount > 0) {
                logDebug('error', `üö® –û–®–ò–ë–ö–ò –°–ò–°–¢–ï–ú–´ (${errorCount}):`);
                
                errors.slice(-5).forEach(error => {
                    const timestamp = new Date(error.timestamp).toLocaleTimeString();
                    const errorType = getErrorTypeIcon(error.type);
                    logDebug('error', `${errorType} ${error.server}: ${error.message} (${timestamp})`);
                });
                
                if (errorCount > 5) {
                    logDebug('error', `... –∏ –µ—â–µ ${errorCount - 5} –æ—à–∏–±–æ–∫`);
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∏ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
        function getErrorTypeIcon(errorType) {
            const icons = {
                'CONNECTION_ERROR': 'üîå',
                'HTTP_ERROR': 'üåê',
                'TIMEOUT_ERROR': '‚è∞',
                'UNKNOWN_ERROR': '‚ùì',
                'CONFIG_ERROR': '‚öôÔ∏è',
                'CHAT_ERROR': 'üí¨',
                'ANALYSIS_ERROR': 'üß†'
            };
            return icons[errorType] || '‚ùå';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
        async function getSystemHealth() {
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
                const servers = [
                    { name: 'Smart Dispatcher', url: 'http://localhost:8080/api/health' },
                    { name: 'General API', url: 'http://localhost:8085/api/health' },
                    { name: 'Mathematics', url: 'http://localhost:8086/health' },
                    { name: 'Electrical', url: 'http://localhost:8087/api/electrical/status' },
                    { name: 'Programming', url: 'http://localhost:8088/health' },
                ];
                
                let healthyCount = 0;
                let totalCount = servers.length;
                
                for (const server of servers) {
                    try {
                        const response = await fetch(server.url, { timeout: 2000 });
                        if (response.ok) {
                            healthyCount++;
                        }
                    } catch (error) {
                        // –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
                    }
                }
                
                const healthPercentage = Math.round((healthyCount / totalCount) * 100);
                addMessage('ai', `üíö –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã: ${healthyCount}/${totalCount} —Å–µ—Ä–≤–µ—Ä–æ–≤ (${healthPercentage}%)`);
                logDebug('info', `–ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã: ${healthPercentage}%`);
                
            } catch (error) {
                addMessage('ai', '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã');
                logDebug('error', `–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è: ${error.message}`);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
        function displaySystemHealth(health) {
            const healthPercentage = health.health_percentage || 0;
            const healthIcon = healthPercentage >= 80 ? 'üü¢' : healthPercentage >= 50 ? 'üü°' : 'üî¥';
            
            logDebug('info', `${healthIcon} –ó–î–û–†–û–í–¨–ï –°–ò–°–¢–ï–ú–´: ${healthPercentage.toFixed(1)}%`);
            logDebug('info', `üìä –°–µ—Ä–≤–µ—Ä–æ–≤: ${health.healthy_servers}/${health.total_servers}`);
            
            if (health.unhealthy_servers > 0) {
                logDebug('warning', `‚ö†Ô∏è –ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã—Ö: ${health.unhealthy_servers}`);
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        async function checkWebInterfaceStatus() {
            try {
                const response = await fetch('http://localhost:8084/RubinIDE.html', {
                    method: 'HEAD',
                    timeout: 5000
                });
                
                const webInterfaceStatus = document.getElementById('webInterfaceStatus');
                if (webInterfaceStatus) {
                    if (response.ok) {
                        webInterfaceStatus.textContent = '–î–û–°–¢–£–ü–ï–ù';
                        webInterfaceStatus.className = 'metric-value good';
                    } else {
                        webInterfaceStatus.textContent = '–û–®–ò–ë–ö–ê';
                        webInterfaceStatus.className = 'metric-value bad';
                    }
                }
            } catch (error) {
                const webInterfaceStatus = document.getElementById('webInterfaceStatus');
                if (webInterfaceStatus) {
                    webInterfaceStatus.textContent = '–ù–ï–î–û–°–¢–£–ü–ï–ù';
                    webInterfaceStatus.className = 'metric-value bad';
                }
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö API –º–æ–¥—É–ª–µ–π
        async function checkAllAPIs() {
            addMessage('ai', 'üîå –ü—Ä–æ–≤–µ—Ä—è—é –≤—Å–µ API –º–æ–¥—É–ª–∏...');
            
            const apiChecks = [
                // –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
                { name: 'Smart Dispatcher', url: 'http://localhost:8080/api/health', port: 8080 },
                { name: 'General API', url: 'http://localhost:8085/api/health', port: 8085 },
                { name: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', url: 'http://localhost:8086/health', port: 8086 },
                { name: '–≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞', url: 'http://localhost:8087/api/electrical/status', port: 8087 },
                { name: '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', url: 'http://localhost:8088/health', port: 8088 },
                { name: '–ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å', url: 'http://localhost:8090/api/health', port: 8090 },
                { name: '–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã', url: 'http://localhost:9000/api/controllers/topic/general', port: 9000 },
                
                // –ù–æ–≤—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
                { name: 'PLC Analysis', url: 'http://localhost:8099/api/plc/health', port: 8099 },
                { name: 'Advanced Math', url: 'http://localhost:8100/api/math/health', port: 8100 },
                { name: 'Data Processing', url: 'http://localhost:8101/api/data/health', port: 8101 },
                { name: 'Search Engine', url: 'http://localhost:8102/api/search/health', port: 8102 },
                { name: 'System Utils', url: 'http://localhost:8103/api/system/health', port: 8103 },
                { name: 'GAI Server', url: 'http://localhost:8104/api/gai/health', port: 8104 },
                { name: 'Unified Manager', url: 'http://localhost:8084/api/system/health', port: 8084 },
                { name: 'Ethical Core', url: 'http://localhost:8105/api/ethical/health', port: 8105 },
                
                // –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
                { name: 'RubinDeveloper', url: 'http://localhost:8080/matrix/RubinDeveloper.html', port: 8080 }
            ];
            
            for (const api of apiChecks) {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 3000);
                    
                    const response = await fetch(api.url, {
                        method: 'GET',
                        signal: controller.signal,
                        headers: { 'Accept': 'application/json' }
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (response.ok) {
                        addMessage('ai', `‚úÖ ${api.name} (–ø–æ—Ä—Ç ${api.port}) - –û–ù–õ–ê–ô–ù`);
                    } else {
                        addMessage('ai', `‚ùå ${api.name} (–ø–æ—Ä—Ç ${api.port}) - –û–®–ò–ë–ö–ê HTTP ${response.status}`);
                    }
                } catch (error) {
                    if (error.name === 'AbortError') {
                        addMessage('ai', `‚è∞ ${api.name} (–ø–æ—Ä—Ç ${api.port}) - –¢–ê–ô–ú–ê–£–¢`);
                    } else {
                        addMessage('ai', `‚ùå ${api.name} (–ø–æ—Ä—Ç ${api.port}) - –ù–ï–î–û–°–¢–£–ü–ï–ù`);
                    }
                }
            }
            
            addMessage('ai', 'üîå –ü—Ä–æ–≤–µ—Ä–∫–∞ API –º–æ–¥—É–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        setInterval(checkAllModulesStatus, 30000);
        
        // 
        // –£–ü–†–ê–í–õ–ï–ù–ò–ï –í–ö–õ–ê–î–ö–ê–ú–ò –ò–ù–¢–ï–†–§–ï–ô–°–ê
        // ===================================================================================
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        // tabName: 'chat' | 'debug' | 'deployment' | 'settings' | 'docs'
        //
        function switchDevTab(tabName) {
            const tabContents = document.querySelectorAll('.dev-tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            const tabs = document.querySelectorAll('.dev-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // –ï—Å–ª–∏ —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è), –Ω–µ –∏—â–µ–º DOM —ç–ª–µ–º–µ–Ω—Ç
            if (tabName === 'settings' || tabName === 'docs') {
                currentDevTab = tabName;
                return;
            }
            
            const targetTab = document.getElementById(tabName);
            if (targetTab) {
                targetTab.classList.add('active');
                currentDevTab = tabName;
            } else {
                console.warn('switchDevTab: –Ω–µ –Ω–∞–π–¥–µ–Ω –∫–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–∫–∏', tabName);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
            const targetTabButton = document.querySelector(`[onclick="switchDevTab('${tabName}')"]`);
            if (targetTabButton) {
                targetTabButton.classList.add('active');
            } else {
                console.warn('switchDevTab: –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤–∫–ª–∞–¥–∫–∏', tabName);
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∏–∂–Ω–∏—Ö –≤–∫–ª–∞–¥–æ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
        function switchBottomDevTab(tabName) {
            const bottomTabContents = document.querySelectorAll('.bottom-dev-tab-content');
            bottomTabContents.forEach(content => content.classList.remove('active'));
            
            const bottomTabs = document.querySelectorAll('.bottom-dev-tab');
            bottomTabs.forEach(tab => tab.classList.remove('active'));
            
            const targetTab = document.getElementById(tabName);
            if (targetTab) {
                targetTab.classList.add('active');
            }
            
            if (event && event.target) {
                event.target.classList.add('active');
            }
            
            currentBottomDevTab = tabName;
        }

        function initializeModules() {
            const moduleList = document.getElementById('moduleList');
            if (!moduleList) {
                console.warn('initializeModules: —ç–ª–µ–º–µ–Ω—Ç #moduleList –Ω–µ –Ω–∞–π–¥–µ–Ω');
                return; // –í—ã—Ö–æ–¥–∏–º, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
            }
            
            moduleList.innerHTML = '';
            
            // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            const categories = {
                '–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã': modules.slice(0, 8),
                '–ù–æ–≤—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã': modules.slice(8, 16)
            };
            
            for (const [categoryName, categoryModules] of Object.entries(categories)) {
                // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                const categoryHeader = document.createElement('div');
                categoryHeader.className = 'category-header';
                categoryHeader.innerHTML = `<h4>${categoryName}</h4>`;
                moduleList.appendChild(categoryHeader);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –º–æ–¥—É–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                categoryModules.forEach(module => {
                    const moduleDiv = document.createElement('div');
                    moduleDiv.className = `module-item ${module.status}`;
                    moduleDiv.onclick = () => testModule(module.name.toLowerCase().replace(/\s+/g, '_'));
                    
                    const statusIcon = module.status === 'online' ? 'üü¢' : 'üî¥';
                    const statusText = module.status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                    const startBtn = module.status !== 'online' ? `<button class="dev-button small" onclick="event.stopPropagation(); startServerByName('${module.name}')">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>` : '';
                    
                    moduleDiv.innerHTML = `
                        <div class="module-name">
                            <span class="module-icon">${statusIcon}</span>
                            ${module.name}
                        </div>
                        <div class="module-status">–°—Ç–∞—Ç—É—Å: ${statusText}</div>
                        <div class="module-port">–ü–æ—Ä—Ç: ${module.port}</div>
                        <div class="module-description">${module.description}</div>
                        <div class="module-actions">${startBtn}</div>
                    `;
                    
                    moduleList.appendChild(moduleDiv);
                });
            }
            initializeModules();
            updateSystemStatus();
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è
        function toggleModule(module) {
            if (module.status === 'online') {
                module.status = 'offline';
                logDebug('warning', `–ú–æ–¥—É–ª—å ${module.name} –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω`);
            } else {
                module.status = 'online';
                logDebug('success', `–ú–æ–¥—É–ª—å ${module.name} –∑–∞–ø—É—â–µ–Ω`);
            }
            initializeModules();
            updateSystemStatus();
        }

        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏
        function logDebug(type, message) {
            const debugConsole = document.getElementById('debugConsole');
            if (!debugConsole) {
                console.log(`[${new Date().toLocaleTimeString()}] ${message}`);
                return;
            }
            
            const timestamp = new Date().toLocaleTimeString();
            
            const logEntry = document.createElement('div');
            logEntry.className = `debug-entry ${type}`;
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            
            debugConsole.appendChild(logEntry);
            debugConsole.scrollTop = debugConsole.scrollHeight;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –º–æ–¥—É–ª–µ–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
        function updateModuleStatus() {
            const moduleList = document.getElementById('moduleList');
            if (moduleList) {
                moduleList.innerHTML = '';
                
                // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                const categories = {
                    '–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã': modules.slice(0, 8),
                    '–ù–æ–≤—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã': modules.slice(8, 15)
                };
                
                for (const [categoryName, categoryModules] of Object.entries(categories)) {
                    moduleList.innerHTML += `
                        <div class="category-header">
                            <h4>${categoryName}</h4>
                        </div>
                    `;
                    
                    categoryModules.forEach(module => {
                        const statusClass = module.status === 'online' ? 'online' : 'offline';
                        const statusIcon = module.status === 'online' ? 'üü¢' : 'üî¥';
                        const startBtn = module.status !== 'online' ? `<button class="dev-button small" onclick="event.stopPropagation(); startServerByName('${module.name}')">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>` : '';
                        
                        moduleList.innerHTML += `
                            <div class="module-item ${statusClass}" onclick="testModule('${module.name.toLowerCase().replace(/\s+/g, '_')}')">
                                <span class="module-icon">${statusIcon}</span>
                                <span class="module-name">${module.name}</span>
                                <span class="module-port">:${module.port}</span>
                                <span class="module-status">${module.status}</span>
                                <span class="module-description">${module.description}</span>
                                <span class="module-actions">${startBtn}</span>
                            </div>
                        `;
                    });
                }
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
        function updateSystemStatus() {
            const onlineModules = modules.filter(m => m.status === 'online').length;
            const totalModules = modules.length;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
            const electricalStatus = document.getElementById('electricalStatus');
            const radiomechanicsStatus = document.getElementById('radiomechanicsStatus');
            const controllersStatus = document.getElementById('controllersStatus');
            const aiChatStatus = document.getElementById('aiChatStatus');
            const mathematicsStatus = document.getElementById('mathematicsStatus');
            const programmingStatus = document.getElementById('programmingStatus');
            const generalStatus = document.getElementById('generalStatus');
            const mainServerStatus = document.getElementById('mainServerStatus');
            const webInterfaceStatus = document.getElementById('webInterfaceStatus');
            
            if (electricalStatus) {
                electricalStatus.textContent = modules[1].status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                electricalStatus.className = `metric-value ${modules[1].status === 'online' ? 'good' : 'bad'}`;
            }
            if (radiomechanicsStatus) {
                radiomechanicsStatus.textContent = modules[2].status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                radiomechanicsStatus.className = `metric-value ${modules[2].status === 'online' ? 'good' : 'bad'}`;
            }
            if (controllersStatus) {
                controllersStatus.textContent = modules[3].status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                controllersStatus.className = `metric-value ${modules[3].status === 'online' ? 'good' : 'bad'}`;
            }
            if (aiChatStatus) {
                aiChatStatus.textContent = modules[4].status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                aiChatStatus.className = `metric-value ${modules[4].status === 'online' ? 'good' : 'bad'}`;
            }
            if (mathematicsStatus) {
                mathematicsStatus.textContent = modules[5].status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                mathematicsStatus.className = `metric-value ${modules[5].status === 'online' ? 'good' : 'bad'}`;
            }
            if (programmingStatus) {
                programmingStatus.textContent = modules[6].status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                programmingStatus.className = `metric-value ${modules[6].status === 'online' ? 'good' : 'bad'}`;
            }
            if (generalStatus) {
                generalStatus.textContent = modules[7].status === 'online' ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                generalStatus.className = `metric-value ${modules[7].status === 'online' ? 'good' : 'bad'}`;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
            if (mainServerStatus) {
                const mainServerOnline = modules[4].status === 'online'; // AI –ß–∞—Ç = –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
                mainServerStatus.textContent = mainServerOnline ? '–û–ù–õ–ê–ô–ù' : '–û–§–§–õ–ê–ô–ù';
                mainServerStatus.className = `metric-value ${mainServerOnline ? 'good' : 'bad'}`;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            if (webInterfaceStatus) {
                webInterfaceStatus.textContent = '–î–û–°–¢–£–ü–ï–ù';
                webInterfaceStatus.className = 'metric-value good';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –±–∞—Ä
            const statusBar = document.querySelector('.dev-status-bar');
            if (statusBar) {
                const moduleStatus = statusBar.querySelector('.dev-status-item:nth-child(3)');
                if (moduleStatus) {
                    moduleStatus.textContent = `üìä –ú–æ–¥—É–ª–∏: ${onlineModules}/${totalModules} –û–ù–õ–ê–ô–ù`;
                }
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π
        async function testModule(moduleName) {
            logDebug('info', `–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –º–æ–¥—É–ª—è: ${moduleName}`);
            
            try {
                let response;
                switch(moduleName) {
                    // –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
                    case 'electrical':
                        response = await fetch('http://localhost:8087/api/electrical/status');
                        break;
                    case 'radiomechanics':
                        response = await fetch('http://localhost:8089/api/radiomechanics/status');
                        break;
                    case 'controllers':
                        response = await fetch('http://localhost:9000/api/controllers/topic/general');
                        break;
                    case 'ai-chat':
                        response = await fetch('http://localhost:8080/api/health');
                        break;
                    case 'mathematics':
                        response = await fetch('http://localhost:8086/api/chat');
                        break;
                    case 'programming':
                        response = await fetch('http://localhost:8088/api/chat');
                        break;
                    case 'general':
                        response = await fetch('http://localhost:8085/api/chat');
                        break;
                    case 'neuro':
                        response = await fetch('http://localhost:8090/api/health');
                        break;
                    
                    // –ù–æ–≤—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
                    case 'plc_analysis':
                        response = await fetch('http://localhost:8099/api/plc/health');
                        break;
                    case 'advanced_math':
                        response = await fetch('http://localhost:8100/api/math/health');
                        break;
                    case 'data_processing':
                        response = await fetch('http://localhost:8101/api/data/health');
                        break;
                    case 'search_engine':
                        response = await fetch('http://localhost:8102/api/search/health');
                        break;
                    case 'system_utils':
                        response = await fetch('http://localhost:8103/api/system/health');
                        break;
                    case 'gai':
                        response = await fetch('http://localhost:8104/api/gai/health');
                        break;
                    case 'unified_manager':
                        response = await fetch('http://localhost:8084/api/system/health');
                        break;
                    case 'ethical_core':
                        response = await fetch('http://localhost:8105/api/ethical/health');
                        break;
                }
                
                if (response && response.ok) {
                    logDebug('success', `‚úÖ –ú–æ–¥—É–ª—å ${moduleName} —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ`);
                    const testResults = document.getElementById('testResults');
                    if (testResults) {
                        testResults.innerHTML = `<div class="debug-entry success">‚úÖ –¢–µ—Å—Ç ${moduleName} –ø—Ä–æ–π–¥–µ–Ω</div>`;
                    }
                } else {
                    logDebug('error', `‚ùå –ú–æ–¥—É–ª—å ${moduleName} –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω`);
                    const testResults = document.getElementById('testResults');
                    if (testResults) {
                        testResults.innerHTML = `<div class="debug-entry error">‚ùå –¢–µ—Å—Ç ${moduleName} –ø—Ä–æ–≤–∞–ª–µ–Ω</div>`;
                    }
                }
            } catch (error) {
                logDebug('error', `‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ${moduleName}: ${error.message}`);
                const testResults = document.getElementById('testResults');
                if (testResults) {
                    testResults.innerHTML = `<div class="debug-entry error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
                }
            }
        }

        // –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
        async function testAllNewServers() {
            logDebug('info', 'üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤...');
            
            const newServers = [
                'plc_analysis', 'advanced_math', 'data_processing', 
                'search_engine', 'system_utils', 'gai', 'unified_manager', 'ethical_core'
            ];
            
            const testResults = document.getElementById('testResults');
            if (testResults) {
                testResults.innerHTML = '<div class="debug-entry info">üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤...</div>';
            }
            
            let passedTests = 0;
            let totalTests = newServers.length;
            
            for (const server of newServers) {
                try {
                    await testModule(server);
                    passedTests++;
                } catch (error) {
                    logDebug('error', `‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ${server}: ${error.message}`);
                }
            }
            
            const successRate = Math.round((passedTests / totalTests) * 100);
            logDebug('info', `üìä –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: ${passedTests}/${totalTests} (${successRate}%)`);
            
            if (testResults) {
                testResults.innerHTML += `<div class="debug-entry ${successRate >= 80 ? 'success' : 'warning'}">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç: ${passedTests}/${totalTests} —Å–µ—Ä–≤–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç (${successRate}%)</div>`;
            }
        }

        // üß™ –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö API
        async function runComprehensiveAPITest() {
            logDebug('info', 'üß™ –ó–∞–ø—É—Å–∫ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö API —Å–µ—Ä–≤–µ—Ä–æ–≤...');
            
            const testResults = document.getElementById('testResults');
            if (testResults) {
                testResults.innerHTML = '<div class="debug-entry info">üß™ –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API...</div>';
            }
            
            const servers = [
                { name: 'Smart Dispatcher', port: 8080, endpoint: '/api/health' },
                { name: 'General API', port: 8085, endpoint: '/api/health' },
                { name: 'Mathematics', port: 8086, endpoint: '/health' },
                { name: 'Electrical', port: 8087, endpoint: '/api/electrical/status' },
                { name: 'Programming', port: 8088, endpoint: '/health' },
                { name: 'Neuro', port: 8090, endpoint: '/health' },
                { name: 'Controllers', port: 9000, endpoint: '/api/controllers/topic/general' },
                { name: 'PLC Analysis', port: 8099, endpoint: '/api/plc/health' },
                { name: 'Advanced Math', port: 8100, endpoint: '/api/math/health' },
                { name: 'Data Processing', port: 8101, endpoint: '/api/data/health' },
                { name: 'Search Engine', port: 8102, endpoint: '/api/search/health' },
                { name: 'System Utils', port: 8103, endpoint: '/api/system/health' },
                { name: 'GAI Server', port: 8104, endpoint: '/api/gai/health' },
                { name: 'Unified Manager', port: 8084, endpoint: '/api/system/health' },
                { name: 'Ethical Core', port: 8105, endpoint: '/api/ethical/health' }
            ];
            
            let onlineCount = 0;
            let totalTests = servers.length;
            
            for (const server of servers) {
                try {
                    const url = `http://localhost:${server.port}${server.endpoint}`;
                    const response = await fetch(url, { 
                        method: 'GET',
                        timeout: 5000 
                    });
                    
                    if (response.ok) {
                        onlineCount++;
                        logDebug('success', `‚úÖ ${server.name} - –û–ù–õ–ê–ô–ù`);
                        if (testResults) {
                            testResults.innerHTML += `<div class="debug-entry success">‚úÖ ${server.name} - –û–ù–õ–ê–ô–ù</div>`;
                        }
                    } else {
                        logDebug('warning', `‚ö†Ô∏è ${server.name} - HTTP ${response.status}`);
                        if (testResults) {
                            testResults.innerHTML += `<div class="debug-entry warning">‚ö†Ô∏è ${server.name} - HTTP ${response.status}</div>`;
                        }
                    }
                } catch (error) {
                    logDebug('error', `‚ùå ${server.name} - –ù–ï–î–û–°–¢–£–ü–ï–ù`);
                    if (testResults) {
                        testResults.innerHTML += `<div class="debug-entry error">‚ùå ${server.name} - –ù–ï–î–û–°–¢–£–ü–ï–ù</div>`;
                    }
                }
            }
            
            const successRate = Math.round((onlineCount / totalTests) * 100);
            logDebug('info', `üìä –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ: ${onlineCount}/${totalTests} —Å–µ—Ä–≤–µ—Ä–æ–≤ –æ–Ω–ª–∞–π–Ω (${successRate}%)`);
            
            if (testResults) {
                testResults.innerHTML += `<div class="debug-entry ${successRate >= 80 ? 'success' : 'warning'}">üìä –ò–¢–û–ì–û: ${onlineCount}/${totalTests} —Å–µ—Ä–≤–µ—Ä–æ–≤ –æ–Ω–ª–∞–π–Ω (${successRate}%)</div>`;
            }
            
            return { onlineCount, totalTests, successRate };
        }

        // üß™ –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Smart Dispatcher
        async function testSmartDispatcherFunctionality() {
            logDebug('info', 'üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Smart Dispatcher...');
            
            const testCases = [
                { message: '–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–∏–æ–¥?', expectedCategory: 'electrical' },
                { message: '–†–µ—à–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ x^2 = 4', expectedCategory: 'mathematics' },
                { message: '–û–±—ä—è—Å–Ω–∏ Python', expectedCategory: 'programming' },
                { message: '–ü—Ä–∏–≤–µ—Ç', expectedCategory: 'general' }
            ];
            
            let successCount = 0;
            const testResults = document.getElementById('testResults');
            
            for (const testCase of testCases) {
                try {
                    const response = await fetch('http://localhost:8080/api/chat', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ message: testCase.message })
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        if (data.success && data.category) {
                            successCount++;
                            logDebug('success', `‚úÖ Smart Dispatcher –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞–ª "${testCase.message}" -> ${data.category}`);
                            if (testResults) {
                                testResults.innerHTML += `<div class="debug-entry success">‚úÖ "${testCase.message}" -> ${data.category}</div>`;
                            }
                        } else {
                            logDebug('warning', `‚ö†Ô∏è Smart Dispatcher –Ω–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è "${testCase.message}"`);
                            if (testResults) {
                                testResults.innerHTML += `<div class="debug-entry warning">‚ö†Ô∏è "${testCase.message}" - –Ω–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç</div>`;
                            }
                        }
                    } else {
                        logDebug('error', `‚ùå Smart Dispatcher HTTP ${response.status} –¥–ª—è "${testCase.message}"`);
                        if (testResults) {
                            testResults.innerHTML += `<div class="debug-entry error">‚ùå "${testCase.message}" - HTTP ${response.status}</div>`;
                        }
                    }
                } catch (error) {
                    logDebug('error', `‚ùå Smart Dispatcher –æ—à–∏–±–∫–∞ –¥–ª—è "${testCase.message}": ${error.message}`);
                    if (testResults) {
                        testResults.innerHTML += `<div class="debug-entry error">‚ùå "${testCase.message}" - –æ—à–∏–±–∫–∞</div>`;
                    }
                }
            }
            
            const successRate = Math.round((successCount / testCases.length) * 100);
            logDebug('info', `üéØ Smart Dispatcher —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: ${successCount}/${testCases.length} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ (${successRate}%)`);
            
            if (testResults) {
                testResults.innerHTML += `<div class="debug-entry ${successRate >= 75 ? 'success' : 'warning'}">üéØ Smart Dispatcher: ${successCount}/${testCases.length} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ (${successRate}%)</div>`;
            }
            
            return { successCount, totalTests: testCases.length, successRate };
        }

        // üß™ –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
        async function runFullSystemTest() {
            logDebug('info', 'üöÄ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã Rubin AI v2...');
            
            const testResults = document.getElementById('testResults');
            if (testResults) {
                testResults.innerHTML = '<div class="debug-entry info">üöÄ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã...</div>';
            }
            
            // 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
            const serverTest = await runComprehensiveAPITest();
            
            // 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Smart Dispatcher
            const smartDpTest = await testSmartDispatcherFunctionality();
            
            // 3. –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞
            const overallScore = Math.round((serverTest.successRate + smartDpTest.successRate) / 2);
            
            logDebug('info', `üèÅ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –û–±—â–∏–π –±–∞–ª–ª: ${overallScore}%`);
            
            if (testResults) {
                testResults.innerHTML += `<div class="debug-entry ${overallScore >= 80 ? 'success' : 'warning'}">üèÅ –û–ë–©–ò–ô –ë–ê–õ–õ: ${overallScore}%</div>`;
                
                if (overallScore >= 90) {
                    testResults.innerHTML += `<div class="debug-entry success">üéâ –û–¢–õ–ò–ß–ù–û! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!</div>`;
                } else if (overallScore >= 75) {
                    testResults.innerHTML += `<div class="debug-entry success">üëç –•–û–†–û–®–û! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ.</div>`;
                } else if (overallScore >= 50) {
                    testResults.innerHTML += `<div class="debug-entry warning">‚ö†Ô∏è –£–î–û–í–õ–ï–¢–í–û–†–ò–¢–ï–õ–¨–ù–û! –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.</div>`;
                } else {
                    testResults.innerHTML += `<div class="debug-entry error">üö® –ö–†–ò–¢–ò–ß–ù–û! –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–º–æ–Ω—Ç–∞.</div>`;
                }
            }
            
            return { serverTest, smartDpTest, overallScore };
        }

        // –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
        function runAllTests() {
            logDebug('info', 'üß™ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤...');
            
            // –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
            testModule('electrical');
            setTimeout(() => testModule('radiomechanics'), 1000);
            setTimeout(() => testModule('controllers'), 2000);
            setTimeout(() => testModule('ai-chat'), 3000);
            
            // –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
            setTimeout(() => testAllNewServers(), 4000);
        }

        // –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è
        function deployModule() {
            logDebug('info', 'üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è...');
            const deploymentStatus = document.getElementById('deploymentStatus');
            if (deploymentStatus) {
                deploymentStatus.innerHTML = `
                    <div class="debug-entry info">üì¶ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é...</div>
                    <div class="debug-entry success">‚úÖ –ú–æ–¥—É–ª—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç —É—Å–ø–µ—à–Ω–æ</div>
                `;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
        function updateSystem() {
            logDebug('info', 'üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã...');
            const deploymentStatus = document.getElementById('deploymentStatus');
            if (deploymentStatus) {
                deploymentStatus.innerHTML = `
                    <div class="debug-entry info">üì• –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π...</div>
                    <div class="debug-entry success">‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞</div>
                `;
            }
        }

        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
        function restartSystem() {
            logDebug('info', 'üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã...');
            const deploymentStatus = document.getElementById('deploymentStatus');
            
            if (deploymentStatus) {
                deploymentStatus.innerHTML = `
                    <div class="debug-entry info">üîÑ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É...</div>
                `;
            }
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
            fetch('http://localhost:8084/api/system/restart', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    logDebug('success', '‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω');
                    if (deploymentStatus) {
                        deploymentStatus.innerHTML = `
                            <div class="debug-entry info">üîÑ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É...</div>
                            <div class="debug-entry success">‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω</div>
                            <div class="debug-entry warning">‚ö†Ô∏è –î–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –≤—Ä—É—á–Ω—É—é</div>
                            <div class="debug-entry info">üí° –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ AI –ß–∞—Ç —Å–µ—Ä–≤–∏—Å: python api/rubin_ai_v2_simple.py</div>
                        `;
                    }
                } else {
                    logDebug('error', '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ: ' + data.error);
                    if (deploymentStatus) {
                        deploymentStatus.innerHTML = `
                            <div class="debug-entry error">‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ: ${data.error}</div>
                        `;
                    }
                }
            })
            .catch(error => {
                logDebug('error', '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message);
                if (deploymentStatus) {
                    deploymentStatus.innerHTML = `
                        <div class="debug-entry error">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}</div>
                        <div class="debug-entry info">üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Smart Dispatcher –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080</div>
                    `;
                }
            });
        }

        // –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π Rubin AI v2
        function launchAllModules() {
            logDebug('info', 'üöÄ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π Rubin AI v2...');
            addMessage('ai', 'üöÄ –ó–∞–ø—É—Å–∫–∞—é –≤—Å–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã...');
            
            const deploymentStatus = document.getElementById('deploymentStatus');
            
            if (deploymentStatus) {
                deploymentStatus.innerHTML = `
                    <div class="debug-entry info">üöÄ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π Rubin AI v2...</div>
                    <div class="debug-entry info">üì° Neural Dispatcher (8080) - –∑–∞–ø—É—Å–∫...</div>
                    <div class="debug-entry info">‚ö° Electrical API (8087) - –∑–∞–ø—É—Å–∫...</div>
                    <div class="debug-entry info">üéõÔ∏è Controllers API (9000) - –∑–∞–ø—É—Å–∫...</div>
                    <div class="debug-entry info">üßÆ Mathematics Server (8086) - –∑–∞–ø—É—Å–∫...</div>
                    <div class="debug-entry info">üíª Programming Server (8088) - –∑–∞–ø—É—Å–∫...</div>
                    <div class="debug-entry info">üåê General Server (8085) - –∑–∞–ø—É—Å–∫...</div>
                `;
            }
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ API
            fetch('http://localhost:8080/api/health', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                }
            })
            .then(response => {
                if (response.ok) {
                    logDebug('success', '‚úÖ Neural Dispatcher —É–∂–µ –∑–∞–ø—É—â–µ–Ω');
                    addMessage('ai', '‚úÖ Neural Dispatcher —É–∂–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080');
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
                    checkAllModulesStatus().then(results => {
                        const online = results.filter(r => r).length;
                        const total = results.length;
                        
                        if (deploymentStatus) {
                            deploymentStatus.innerHTML += `
                                <div class="debug-entry success">‚úÖ Neural Dispatcher –∑–∞–ø—É—â–µ–Ω</div>
                                <div class="debug-entry info">üìä –°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª–µ–π: ${online}/${total} –æ–Ω–ª–∞–π–Ω</div>
                            `;
                        }
                        
                        addMessage('ai', `üìä –°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª–µ–π: ${online}/${total} –æ–Ω–ª–∞–π–Ω`);
                        
                        if (online < total) {
                            addMessage('ai', '‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥—É–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É: python start_all_modules.py');
                        } else {
                            addMessage('ai', 'üéâ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç!');
                        }
                    });
                } else {
                    throw new Error('Neural Dispatcher –Ω–µ –∑–∞–ø—É—â–µ–Ω');
                }
            })
            .catch(error => {
                logDebug('error', '‚ùå Neural Dispatcher –Ω–µ –∑–∞–ø—É—â–µ–Ω: ' + error.message);
                addMessage('ai', '‚ùå Neural Dispatcher –Ω–µ –∑–∞–ø—É—â–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: python start_all_modules.py');
                
                if (deploymentStatus) {
                    deploymentStatus.innerHTML += `
                        <div class="debug-entry error">‚ùå Neural Dispatcher –Ω–µ –∑–∞–ø—É—â–µ–Ω</div>
                        <div class="debug-entry info">üí° –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: python start_all_modules.py</div>
                        <div class="debug-entry info">üí° –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ: python neural_smart_dispatcher.py</div>
                    `;
                }
            });
        }

        // –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
        function backupSystem() {
            logDebug('info', 'üíæ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏...');
            const deploymentStatus = document.getElementById('deploymentStatus');
            if (deploymentStatus) {
                deploymentStatus.innerHTML = `
                    <div class="debug-entry info">üìÅ –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞...</div>
                    <div class="debug-entry success">‚úÖ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞</div>
                `;
            }
        }

        // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
        function restoreSystem() {
            logDebug('info', 'üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã...');
            const deploymentStatus = document.getElementById('deploymentStatus');
            if (deploymentStatus) {
                deploymentStatus.innerHTML = `
                    <div class="debug-entry info">üìÇ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞...</div>
                    <div class="debug-entry success">‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</div>
                `;
            }
        }

        // –°–∏–º—É–ª—è—Ü–∏—è –º–µ—Ç—Ä–∏–∫
        function updateMetrics() {
            const cpuUsage = Math.floor(Math.random() * 30) + 5;
            const memoryUsage = Math.floor(Math.random() * 40) + 30;
            const diskUsage = Math.floor(Math.random() * 20) + 70;
            const networkUsage = Math.floor(Math.random() * 30) + 10;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
            const cpuElement = document.getElementById('cpuUsage');
            const memoryElement = document.getElementById('memoryUsage');
            const diskElement = document.getElementById('diskUsage');
            const networkElement = document.getElementById('networkUsage');
            
            if (cpuElement) {
                cpuElement.textContent = `${cpuUsage}%`;
                cpuElement.className = `metric-value ${cpuUsage < 50 ? 'good' : cpuUsage < 80 ? 'warning' : 'bad'}`;
            }
            
            if (memoryElement) {
                memoryElement.textContent = `${memoryUsage}%`;
                memoryElement.className = `metric-value ${memoryUsage < 50 ? 'good' : memoryUsage < 80 ? 'warning' : 'bad'}`;
            }
            
            if (diskElement) {
                diskElement.textContent = `${diskUsage}%`;
                diskElement.className = `metric-value ${diskUsage < 50 ? 'good' : diskUsage < 80 ? 'warning' : 'bad'}`;
            }
            
            if (networkElement) {
                networkElement.textContent = `${networkUsage}%`;
                networkElement.className = `metric-value ${networkUsage < 50 ? 'good' : networkUsage < 80 ? 'warning' : 'bad'}`;
            }
        }

        // 
        // –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–ê–Ø –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–ò–Ø –°–û–û–ë–©–ï–ù–ò–ô
        // ===================================================================================
        // –≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã - –æ–Ω–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        // –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫ –∫–∞–∫–æ–º—É –º–æ–¥—É–ª—é –∏—Ö –Ω–∞–ø—Ä–∞–≤–∏—Ç—å
        //
        // –ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´:
        // 1. –ê–Ω–∞–ª–∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
        // 2. –ü–æ–¥—Å—á–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
        // 3. –í—ã–±–æ—Ä –º–æ–¥—É–ª—è —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
        // 4. –í–æ–∑–≤—Ä–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
        //
        // –ü–ê–†–ê–ú–ï–¢–†–´:
        // message - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        // 
        // –í–û–ó–í–†–ê–©–ê–ï–¢:
        // –û–±—ä–µ–∫—Ç —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π: { module, url, requestBody }
        //
        async function intelligentRouting(message) {
            const lower = message.toLowerCase();
            
            // 
            // –°–õ–û–í–ê–†–ò –ö–õ–Æ–ß–ï–í–´–• –°–õ–û–í –î–õ–Ø –ö–ê–ñ–î–û–ì–û –ú–û–î–£–õ–Ø
            // ===================================================================================
            // –ö–∞–∂–¥—ã–π –º–∞—Å—Å–∏–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Ä–º–∏–Ω—ã, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
            // –°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç —ç—Ç–∏ —Å–ª–æ–≤–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            //
            
            // –≠–õ–ï–ö–¢–†–û–¢–ï–•–ù–ò–ö–ê - —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ü–µ–ø–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ä–∞—Å—á–µ—Ç—ã
            const electricalKeywords = [
                '—Ä–µ–∑–∏—Å—Ç–æ—Ä', '–∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä', '–∏–Ω–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', '–¥–∏–æ–¥', '—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä', '–º–∏–∫—Ä–æ—Å—Ö–µ–º–∞',
                '–Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ', '—Ç–æ–∫', '–º–æ—â–Ω–æ—Å—Ç—å', '—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ', '–µ–º–∫–æ—Å—Ç—å', '–∏–Ω–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                '—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ', '—ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞', '—Å—Ö–µ–º–∞', '—Ü–µ–ø–∏', '–∑–∞–∫–æ–Ω –æ–º–∞', '–∫–∏—Ä—Ö–≥–æ—Ñ',
                '–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–æ–∫', '–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–∫', '—á–∞—Å—Ç–æ—Ç–∞', '—Ñ–∞–∑–∞', '–∞–º–ø–ª–∏—Ç—É–¥–∞',
                '—Ç–∏—Ä–∏—Å—Ç–æ—Ä', '—Å–∏–º–∏—Å—Ç—Ä', '—Ç—Ä–∏–∞–∫', '–ø–æ–ª—É–ø—Ä–æ–≤–æ–¥–Ω–∏–∫', 'pnp', 'npn', 'mosfet',
                'igbt', '—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä', '–≤—ã–ø—Ä—è–º–∏—Ç–µ–ª—å', '–∏–Ω–≤–µ—Ä—Ç–æ—Ä', '–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä', '–¥–≤–∏–≥–∞—Ç–µ–ª—å'
            ];
            
            // –†–ê–î–ò–û–ú–ï–•–ê–ù–ò–ö–ê - —Ä–∞–¥–∏–æ—Ç–µ—Ö–Ω–∏–∫–∞, –∞–Ω—Ç–µ–Ω–Ω—ã, –º–æ–¥—É–ª—è—Ü–∏—è
            const radiomechanicsKeywords = [
                '–∞–Ω—Ç–µ–Ω–Ω–∞', '–∞–Ω—Ç–µ–Ω–Ω', '—Ä–∞–¥–∏–æ–≤–æ–ª–Ω—ã', '—á–∞—Å—Ç–æ—Ç–∞', '–¥–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã', '–º–æ–¥—É–ª—è—Ü–∏—è', '–¥–µ–º–æ–¥—É–ª—è—Ü–∏—è',
                '–ø–µ—Ä–µ–¥–∞—Ç—á–∏–∫', '–ø—Ä–∏–µ–º–Ω–∏–∫', '—Ä–∞–¥–∏–æ—Å–≤—è–∑—å', '—Ä–∞–¥–∏–æ–ª–æ–∫–∞—Ü–∏—è', '—Ä–∞–¥–∏–æ–º–µ—Ö–∞–Ω–∏–∫–∞',
                '—ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–µ –≤–æ–ª–Ω—ã', '—Å–ø–µ–∫—Ç—Ä', '–ø–æ–ª–æ—Å–∞ –ø—Ä–æ–ø—É—Å–∫–∞–Ω–∏—è', '—à—É–º', '—Å–∏–≥–Ω–∞–ª',
                '—Ä–∞–¥–∏–æ', '–≤–æ–ª–Ω–∞', '–∏–∑–ª—É—á–µ–Ω–∏–µ', '–ø—Ä–∏–µ–º', '–ø–µ—Ä–µ–¥–∞—á–∞', '—Ä–∞–¥–∏–æ—Å–∏–≥–Ω–∞–ª'
            ];

            // –ö–û–ù–¢–†–û–õ–õ–ï–†–´ - –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, PMAC, PLC
            const controllersKeywords = [
                '—ç–Ω–∫–æ–¥–µ—Ä', '–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä', 'pmac', '–º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä', '–∞—Ä–¥—É–∏–Ω–æ', 'stm32',
                'plc', 'scada', '–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è', '–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è', '–¥–∞—Ç—á–∏–∫',
                '—Å–µ—Ä–≤–æ–¥–≤–∏–≥–∞—Ç–µ–ª—å', '—à–∞–≥–æ–≤—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å', 'pid', '—Ä–µ–≥—É–ª—è—Ç–æ—Ä', '—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
                '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤', '–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', '–æ—Ç–ª–∞–¥–∫–∞'
            ];

            // –ü–†–û–ì–†–ê–ú–ú–ò–†–û–í–ê–ù–ò–ï - –æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
            const programmingKeywords = [
                '–∫–æ–¥', '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', '–∞–ª–≥–æ—Ä–∏—Ç–º', '—Ñ—É–Ω–∫—Ü–∏—è', '–∫–ª–∞—Å—Å', '–æ–±—ä–µ–∫—Ç',
                '–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è', '—Ü–∏–∫–ª', '—É—Å–ª–æ–≤–∏–µ', '–º–∞—Å—Å–∏–≤', '—Å–ø–∏—Å–æ–∫', '—Å–ª–æ–≤–∞—Ä—å',
                'python', 'javascript', 'java', 'c++', 'c#', 'html', 'css', 'sql',
                '—Å–æ–∑–¥–∞—Ç—å', '–Ω–∞–ø–∏—Å–∞—Ç—å', '—Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å', '—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å'
            ];
            
            // 
            // –ê–õ–ì–û–†–ò–¢–ú –ü–û–î–°–ß–ï–¢–ê –°–û–í–ü–ê–î–ï–ù–ò–ô
            // ===================================================================================
            // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤,
            // –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            // reduce() –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏ —Å—É–º–º–∏—Ä—É–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
            //
            const electricalScore = electricalKeywords.reduce((score, keyword) => 
                score + (lower.includes(keyword) ? 1 : 0), 0);
            const radiomechanicsScore = radiomechanicsKeywords.reduce((score, keyword) => 
                score + (lower.includes(keyword) ? 1 : 0), 0);
            const controllersScore = controllersKeywords.reduce((score, keyword) => 
                score + (lower.includes(keyword) ? 1 : 0), 0);
            const programmingScore = programmingKeywords.reduce((score, keyword) => 
                score + (lower.includes(keyword) ? 1 : 0), 0);
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–æ–¥—É–ª—å —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
            const scores = {
                electrical: electricalScore,
                radiomechanics: radiomechanicsScore,
                controllers: controllersScore,
                programming: programmingScore
            };
            
            const maxScore = Math.max(...Object.values(scores));
            const bestModule = Object.keys(scores).find(key => scores[key] === maxScore);
            
            // –ï—Å–ª–∏ –Ω–µ—Ç —è–≤–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º Smart Dispatcher
            if (maxScore === 0) {
                return {
                    module: 'üß† Smart Dispatcher + AI –ß–∞—Ç (–ø–æ—Ä—Ç 8080)',
                    url: 'http://localhost:8080/api/chat',
                    requestBody: { message: message }
                };
            }
            
            // –í–°–ï –ó–ê–ü–†–û–°–´ –ò–î–£–¢ –ö SMART DISPATCHER –ù–ê –ü–û–†–¢–£ 8080
            // –î–∏—Å–ø–µ—Ç—á–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∫ –Ω—É–∂–Ω–æ–º—É –º–æ–¥—É–ª—é
            switch (bestModule) {
                case 'electrical':
                    return {
                        module: 'üß† Smart Dispatcher + –≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞ (–ø–æ—Ä—Ç 8080)',
                        url: 'http://localhost:8080/api/chat',
                        requestBody: { message: message }
                    };
                    
                    
                case 'controllers':
                    return {
                        module: 'üß† Smart Dispatcher + –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–ø–æ—Ä—Ç 8080)',
                        url: 'http://localhost:8080/api/chat',
                        requestBody: { message: message }
                    };
                    
                case 'programming':
                    return {
                        module: 'üß† Smart Dispatcher + –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ—Ä—Ç 8080)',
                        url: 'http://localhost:8080/api/chat',
                        requestBody: { message: message }
                    };
                    
                default:
                    return {
                        module: 'üß† Smart Dispatcher + AI –ß–∞—Ç (–ø–æ—Ä—Ç 8080)',
                        url: 'http://localhost:8080/api/chat',
                        requestBody: { message: message }
                    };
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —á–∞—Ç–∞ (–æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ)
        function addMessage(sender, text) {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) {
                console.log(`[${sender === 'user' ? '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' : 'AI'}] ${text}`);
                return;
            }
            const messageDiv = document.createElement('div');
            messageDiv.className = `debug-entry ${sender === 'user' ? 'info' : 'success'}`;
            if (text.includes('\n')) {
                messageDiv.innerHTML = text.replace(/\n/g, '<br>');
            } else {
                messageDiv.textContent = text;
            }
            chatMessages.appendChild(messageDiv);
            setTimeout(() => {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 100);
        }

        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫ –Ω–∞—á–∞–ª—É —á–∞—Ç–∞
        function scrollToTop() {
            const chatMessages = document.getElementById('chatMessages');
            if (chatMessages) {
                chatMessages.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // 
        // –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–¢–ü–†–ê–í–ö–ò –°–û–û–ë–©–ï–ù–ò–ô
        // ===================================================================================
        // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç
        // 
        // –ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´:
        // 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        // 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
        // 3. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫ –Ω—É–∂–Ω–æ–º—É –º–æ–¥—É–ª—é
        // 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API –º–æ–¥—É–ª—è
        // 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        //
        // –û–°–û–ë–ï–ù–ù–û–°–¢–ò:
        // - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
        // - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è
        // - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        // - –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        //
        async function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();
            
            if (!message) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage('user', `–í—ã: ${message}`);
            messageInput.value = '';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
            if (debugRequest(message)) {
                return;
            }
            
            try {
                // –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
                let response;
                let moduleUsed = '';
                let requestBody = {};
                const lower = message.toLowerCase();

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ Rubin –∏ –æ–±—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
                if (lower.includes('–ø—Ä–æ–≤–µ—Ä—å') || lower.includes('—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª') || lower.includes('—á—Ç–æ —É–º–µ–µ—à—å') ||
                    lower.includes('–∫–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª') || lower.includes('–∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω') || lower.includes('—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ') ||
                    (lower.includes('—Ä—É–±–∏–Ω') && (lower.includes('–∫–∞–∫') || lower.includes('—á—Ç–æ'))) ||
                    lower.includes('–ø—Ä–æ–≤–µ—Ä–∫–∞') || lower.includes('–¥–∏–∞–≥–Ω–æ—Å—Ç')) {
                    moduleUsed = '–°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏';
                    addMessage('ai', 'üîç –ü—Ä–æ–≤–µ—Ä—è—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π Rubin...');
                    // –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã / PMAC
                    const controllersTest = await testControllersModule();
                    if (controllersTest) {
                        addMessage('ai', '‚úÖ –ú–æ–¥—É–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
                    } else {
                        addMessage('ai', '‚ùå –ú–æ–¥—É–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                    }
                    // –≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞
                    try {
                        const electricalResponse = await fetch('http://localhost:8087/api/electrical/status');
                        addMessage('ai', electricalResponse.ok ? '‚úÖ –ú–æ–¥—É–ª—å —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ' : '‚ùå –ú–æ–¥—É–ª—å —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                    } catch (e) {
                        addMessage('ai', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –º–æ–¥—É–ª—é —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∏');
                    }
                    // AI —á–∞—Ç
                    try {
                        const aiResp = await fetch('http://localhost:8080/api/health');
                        addMessage('ai', aiResp.ok ? '‚úÖ AI –ß–∞—Ç –¥–æ—Å—Ç—É–ø–µ–Ω' : '‚ùå AI –ß–∞—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                    } catch (e) {
                        addMessage('ai', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ AI –ß–∞—Ç—É');
                    }
                    addMessage('ai', '‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –í—Å–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã.');
                    return;
                }
                
                // –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–ò–Ø - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º–æ–¥—É–ª—å
                const routingResult = await intelligentRouting(message);
                moduleUsed = routingResult.module;
                requestBody = routingResult.requestBody;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
                addMessage('ai', `üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–æ–ø—Ä–æ—Å: "${message}"`);
                addMessage('ai', `üì° –ù–∞–ø—Ä–∞–≤–ª—è—é –∫ –º–æ–¥—É–ª—é: ${moduleUsed}`);
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –º–æ–¥—É–ª—é
                console.log('üöÄ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å:', {
                    url: routingResult.url,
                    method: 'POST',
                    body: requestBody
                });
                
                response = await fetch(routingResult.url, {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(requestBody),
                    mode: 'cors',
                    credentials: 'omit'
                });
                
                console.log('üì° –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç:', {
                    status: response.status,
                    statusText: response.statusText,
                    ok: response.ok
                });
                
                if (response && response.ok) {
                    const data = await response.json();
                    console.log('üìÑ –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', data);
                    
                    let aiResponse = '';
                    
                    // –û–ë–†–ê–ë–û–¢–ö–ê –û–¢–í–ï–¢–ê –û–¢ SMART DISPATCHER
                    if (data.success && data.response) {
                        // –û—Ç–≤–µ—Ç –æ—Ç Smart Dispatcher –∏–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É: {success: true, response: {...}, category: '...', server: '...'}
                        const responseData = data.response;
                        
                        if (typeof responseData === 'string') {
                            aiResponse = responseData;
                        } else if (responseData.response) {
                            // –ü–†–ò–û–†–ò–¢–ï–¢: response.response - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç AI
                            aiResponse = responseData.response;
                        } else if (responseData.explanation) {
                            aiResponse = responseData.explanation;
                        } else if (responseData.message) {
                            // –í–ù–ò–ú–ê–ù–ò–ï: responseData.message - —ç—Ç–æ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ù–ï –æ—Ç–≤–µ—Ç AI
                            aiResponse = responseData.message;
                        } else {
                            aiResponse = JSON.stringify(responseData);
                        }
                    } else if (data.message) {
                        // –ü—Ä—è–º–æ–π –æ—Ç–≤–µ—Ç —Å –ø–æ–ª–µ–º message
                        aiResponse = data.message;
                    } else if (data.response) {
                        // –ü—Ä—è–º–æ–π –æ—Ç–≤–µ—Ç —Å –ø–æ–ª–µ–º response
                        aiResponse = data.response;
                    } else {
                        // Fallback - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Å—å –æ–±—ä–µ–∫—Ç
                        aiResponse = JSON.stringify(data);
                    }
                    
                    console.log('üí¨ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç:', aiResponse);
                    addMessage('ai', `Rubin (${moduleUsed}): ${aiResponse}`);
                } else {
                    addMessage('ai', `–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ ${moduleUsed} (HTTP ${response ? response.status : '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'})`);
                }
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                let errorMessage = '';
                
                if (error.name === 'TypeError' && error.message.includes('Failed to fetch')) {
                    errorMessage = '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Smart Dispatcher –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080.';
                } else if (error.name === 'AbortError') {
                    errorMessage = '–ó–∞–ø—Ä–æ—Å –±—ã–ª –æ—Ç–º–µ–Ω–µ–Ω (—Ç–∞–π–º–∞—É—Ç).';
                } else {
                    errorMessage = `–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ${error.message}`;
                }
                
                addMessage('ai', errorMessage);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        async function checkServerAvailability() {
            try {
                const response = await fetch('http://localhost:8080/api/health', {
                    method: 'GET',
                    timeout: 5000
                });
                
                if (response.ok) {
                    console.log('‚úÖ Smart Dispatcher –¥–æ—Å—Ç—É–ø–µ–Ω');
                    addMessage('system', '‚úÖ Smart Dispatcher –ø–æ–¥–∫–ª—é—á–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
                } else {
                    console.log('‚ùå Smart Dispatcher –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:', response.status);
                    addMessage('system', `‚ùå Smart Dispatcher –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (HTTP ${response.status})`);
                }
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Smart Dispatcher:', error);
                addMessage('system', '‚ùå –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Smart Dispatcher. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080.');
            }
        }

        // 
        // –ó–ê–ì–†–£–ó–ö–ê –°–û–•–†–ê–ù–ï–ù–ù–´–• –ù–ê–°–¢–†–û–ï–ö
        // ===================================================================================
        // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ localStorage –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏—Ö
        //
        function loadSavedSettings() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞–∑–º–µ—Ä —á–∞—Ç–∞
            const savedChatSize = localStorage.getItem('rubinChatSize');
            if (savedChatSize) {
                const chatContainer = document.querySelector('.chat-container');
                if (chatContainer) {
                    chatContainer.style.height = savedChatSize + 'px';
                }
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–º—É
            const savedTheme = localStorage.getItem('rubinTheme');
            if (savedTheme) {
                if (savedTheme === 'light') {
                    document.body.style.background = '#ffffff';
                    document.body.style.color = '#000000';
                } else if (savedTheme === 'blue') {
                    document.body.style.background = '#1a1a2e';
                    document.body.style.color = '#e94560';
                } else {
                    document.body.style.background = '#0d1117';
                    document.body.style.color = '#c9d1d9';
                }
            }
        }

        // 
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´ –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï
        // ===================================================================================
        // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç
        // –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        //
        // –í–´–ü–û–õ–ù–Ø–ï–ú–´–ï –î–ï–ô–°–¢–í–ò–Ø:
        // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π —Å–∏—Å—Ç–µ–º—ã
        // 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
        // 3. –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
        // 4. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É —á–∞—Ç–∞
        // 5. –ó–∞–ø—É—Å–∫ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
        // 6. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤
        //
        window.onload = function() {
            initializeModules();
            updateSystemStatus();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –º–æ–¥—É–ª–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            setTimeout(() => {
                checkAllModulesStatus();
            }, 1000);
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            loadSavedSettings();
            
            // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∫–ª–∞–¥–∫—É —á–∞—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            try { switchDevTab('chat'); } catch (e) { console.warn('switchDevTab(chat) failed:', e); }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–µ—Ç—Ä–∏–∫–∏ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
            setInterval(updateMetrics, 5000);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
            const systemLogs = document.getElementById('systemLogs');
            if (systemLogs) {
                const timestamp = new Date().toLocaleString();
                systemLogs.innerHTML += `<div class="debug-entry info">[${timestamp}] Rubin Developer –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            }
            
            logDebug('success', 'üöÄ Rubin Developer —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
        };

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            checkServerAvailability();
            
            // –ù–∞–¥–µ–∂–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫–Ω–æ–ø–∫–∏ –û—Ç–ø—Ä–∞–≤–∏—Ç—å
            const sendBtn = document.getElementById('sendBtn');
            if (sendBtn) {
                sendBtn.addEventListener('click', function(){ sendMessage(); });
            }
            // –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API"
            document.querySelector('.dev-button.success').addEventListener('click', function() {
                logDebug('info', 'üß™ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö API...');
                runAllTests();
            });

            // –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏"
            document.querySelector('.dev-button.danger').addEventListener('click', function() {
                clearAllLogs();
            });

            // –ö–Ω–æ–ø–∫–∞ "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
            document.querySelector('.dev-button:nth-child(9)').addEventListener('click', function() {
                showMonitoring();
            });

            // –ö–Ω–æ–ø–∫–∞ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
            document.querySelector('.dev-button:nth-child(10)').addEventListener('click', function() {
                showSecurity();
            });
            // –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –º–æ–¥—É–ª–∏"
            document.querySelector('.dev-button.primary').addEventListener('click', function() {
                modules.forEach(module => {
                    module.status = 'online';
                });
                initializeModules();
                updateSystemStatus();
                logDebug('success', 'üöÄ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–ø—É—â–µ–Ω—ã');
            });

            // –ö–Ω–æ–ø–∫–∞ "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ"
            document.querySelector('.dev-button:nth-child(2)').addEventListener('click', function() {
                modules.forEach(module => {
                    module.status = 'offline';
                });
                initializeModules();
                updateSystemStatus();
                logDebug('warning', '‚èπÔ∏è –í—Å–µ –º–æ–¥—É–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã');
            });

            // –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É" —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ onclick="restartSystem()"
            // –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∞, —Ç–∞–∫ –∫–∞–∫ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è restartSystem()

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–µ—Ä—Ö–Ω–µ–≥–æ –º–µ–Ω—é
            const menuItems = document.querySelectorAll('.dev-menu-item');
            menuItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
                    menuItems.forEach(menuItem => menuItem.classList.remove('active'));
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø—É–Ω–∫—Ç—É
                    this.classList.add('active');
                    
                    // –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞
                    switch(index) {
                        case 0: // üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
                            switchDevTab('chat');
                            logDebug('info', 'üîß –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏');
                            break;
                        case 1: // üêõ –û—Ç–ª–∞–¥–∫–∞
                            switchDevTab('debug');
                            logDebug('info', 'üêõ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏');
                            break;
                        case 2: // üìä –ê–Ω–∞–ª–∏–∑
                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –∞–Ω–∞–ª–∏–∑–∞
                            document.querySelector('.analysis-panel').style.display = 'flex';
                            logDebug('info', 'üìä –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–∞–Ω–µ–ª–∏ –∞–Ω–∞–ª–∏–∑–∞');
                            break;
                        case 3: // ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                            showSettings();
                            logDebug('info', '‚öôÔ∏è –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫');
                            break;
                        case 4: // üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
                            showDocumentation();
                            logDebug('info', 'üìö –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏');
                            break;
                        case 5: // üîÑ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
                            switchDevTab('deployment');
                            logDebug('info', 'üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è');
                            break;
                    }
                });
            });
        });

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function showSettings() {
            const settingsHtml = `
                <div class="utility-panel">
                    <div class="utility-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫:</label>
                        <select id="metricsInterval" style="background: #252526; color: #c9d1d9; border: 1px solid #30363d; padding: 5px; border-radius: 3px;">
                            <option value="5000">5 —Å–µ–∫—É–Ω–¥</option>
                            <option value="10000">10 —Å–µ–∫—É–Ω–¥</option>
                            <option value="30000">30 —Å–µ–∫—É–Ω–¥</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">–¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:</label>
                        <select id="themeSelect" style="background: #252526; color: #c9d1d9; border: 1px solid #30363d; padding: 5px; border-radius: 3px;">
                            <option value="dark">–¢–µ–º–Ω–∞—è</option>
                            <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                            <option value="blue">–°–∏–Ω—è—è</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">–†–∞–∑–º–µ—Ä —á–∞—Ç–∞:</label>
                        <select id="chatSizeSelect" style="background: #252526; color: #c9d1d9; border: 1px solid #30363d; padding: 5px; border-radius: 3px;">
                            <option value="400">–ú–∞–ª–µ–Ω—å–∫–∏–π (400px)</option>
                            <option value="500">–°—Ä–µ–¥–Ω–∏–π (500px)</option>
                            <option value="600" selected>–ë–æ–ª—å—à–æ–π (600px)</option>
                            <option value="700">–û—á–µ–Ω—å –±–æ–ª—å—à–æ–π (700px)</option>
                        </select>
                    </div>
                    <button class="utility-button" onclick="saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button class="utility-button" onclick="resetSettings()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
            `;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
            const mainContent = document.querySelector('.dev-content');
            mainContent.innerHTML = settingsHtml;
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫
            switchDevTab('settings');
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
        function showDocumentation() {
            const docsHtml = `
                <div class="utility-panel">
                    <div class="utility-title">üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Rubin Developer</div>
                    <div style="margin-bottom: 15px;">
                        <h4>üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</h4>
                        <ul style="margin-left: 20px; line-height: 1.6;">
                            <li><strong>–ß–∞—Ç —Å Rubin:</strong> –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤</li>
                            <li><strong>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞:</strong> –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π</li>
                            <li><strong>–û—Ç–ª–∞–¥–∫–∞:</strong> –ö–æ–Ω—Å–æ–ª—å –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã</li>
                            <li><strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API</li>
                            <li><strong>–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:</strong> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π</li>
                        </ul>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <h4>üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:</h4>
                        <ul style="margin-left: 20px; line-height: 1.6;">
                            <li><strong>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:</strong> –¶–ü–£, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫, —Å–µ—Ç—å</li>
                            <li><strong>API –º–æ–¥—É–ª–∏:</strong> –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</li>
                            <li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏</li>
                            <li><strong>–õ–æ–≥–∏:</strong> –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏</li>
                        </ul>
                    </div>
                    <button class="utility-button" onclick="switchDevTab('chat')">üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —á–∞—Ç—É</button>
                </div>
            `;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
            const mainContent = document.querySelector('.dev-content');
            mainContent.innerHTML = docsHtml;
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
            switchDevTab('docs');
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function saveSettings() {
            const metricsInterval = document.getElementById('metricsInterval').value;
            const theme = document.getElementById('themeSelect').value;
            const chatSize = document.getElementById('chatSizeSelect').value;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ localStorage
            localStorage.setItem('rubinMetricsInterval', metricsInterval);
            localStorage.setItem('rubinTheme', theme);
            localStorage.setItem('rubinChatSize', chatSize);
            
            logDebug('success', 'üíæ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            if (theme === 'light') {
                document.body.style.background = '#ffffff';
                document.body.style.color = '#000000';
            } else if (theme === 'blue') {
                document.body.style.background = '#1a1a2e';
                document.body.style.color = '#e94560';
            } else {
                document.body.style.background = '#0d1117';
                document.body.style.color = '#c9d1d9';
            }
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–∞–∑–º–µ—Ä —á–∞—Ç–∞
            const chatContainer = document.querySelector('.chat-container');
            if (chatContainer) {
                chatContainer.style.height = chatSize + 'px';
            }
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —á–∞—Ç—É
            setTimeout(() => {
                switchDevTab('chat');
                location.reload(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
            }, 1000);
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function resetSettings() {
            localStorage.removeItem('rubinMetricsInterval');
            localStorage.removeItem('rubinTheme');
            logDebug('info', 'üîÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã');
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —á–∞—Ç—É
            setTimeout(() => {
                switchDevTab('chat');
                location.reload();
            }, 1000);
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ—Ö –ª–æ–≥–æ–≤
        function clearAllLogs() {
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏
            const debugConsole = document.getElementById('debugConsole');
            if (debugConsole) debugConsole.innerHTML = '';
            
            // –û—á–∏—â–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
            const systemLogs = document.getElementById('systemLogs');
            if (systemLogs) systemLogs.innerHTML = '';
            
            // –û—á–∏—â–∞–µ–º –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
            const errorLogs = document.getElementById('errorLogs');
            if (errorLogs) errorLogs.innerHTML = '<div class="debug-entry error">–û—à–∏–±–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ</div>';
            
            // –û—á–∏—â–∞–µ–º –ª–æ–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            const securityLogs = document.getElementById('securityLogs');
            if (securityLogs) securityLogs.innerHTML = '<div class="debug-entry success">–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã</div>';
            
            // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–∞
            if (debugConsole) {
                logDebug('success', 'üóëÔ∏è –í—Å–µ –ª–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        function showMonitoring() {
            const monitoringHtml = `
                <div class="utility-panel">
                    <div class="utility-title">üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</div>
                    <div style="margin-bottom: 15px;">
                        <h4>üîç –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</h4>
                        <div id="activeConnections">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <h4>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤:</h4>
                        <div id="requestStats">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                    <button class="utility-button" onclick="refreshMonitoring()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                    <button class="utility-button" onclick="switchDevTab('chat')">üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —á–∞—Ç—É</button>
                </div>
            `;
            
            const mainContent = document.querySelector('.dev-content');
            mainContent.innerHTML = monitoringHtml;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
            loadMonitoringData();
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function showSecurity() {
            const securityHtml = `
                <div class="utility-panel">
                    <div class="utility-title">üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã</div>
                    <div style="margin-bottom: 15px;">
                        <h4>‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</h4>
                        <ul style="margin-left: 20px; line-height: 1.6;">
                            <li>üîí CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: <span style="color: #238636;">–ê–∫—Ç–∏–≤–Ω—ã</span></li>
                            <li>üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: <span style="color: #238636;">–í–∫–ª—é—á–µ–Ω–∞</span></li>
                            <li>üö´ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π: <span style="color: #238636;">–ê–∫—Ç–∏–≤–Ω–∞</span></li>
                            <li>üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è API: <span style="color: #bb8009;">–¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span></li>
                        </ul>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <h4>‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</h4>
                        <ul style="margin-left: 20px; line-height: 1.6;">
                            <li>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è API</li>
                            <li>–î–æ–±–∞–≤–∏—Ç—å rate limiting</li>
                            <li>–í–∫–ª—é—á–∏—Ç—å HTTPS</li>
                        </ul>
                    </div>
                    <button class="utility-button" onclick="runSecurityScan()">üîç –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                    <button class="utility-button" onclick="switchDevTab('chat')">üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —á–∞—Ç—É</button>
                </div>
            `;
            
            const mainContent = document.querySelector('.dev-content');
            mainContent.innerHTML = securityHtml;
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        function loadMonitoringData() {
            const activeConnections = document.getElementById('activeConnections');
            const requestStats = document.getElementById('requestStats');
            
            if (activeConnections) {
                activeConnections.innerHTML = `
                    <div style="background: #252526; padding: 10px; border-radius: 3px; margin: 5px 0;">
                        <strong>–≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞:</strong> 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
                    </div>
                    <div style="background: #252526; padding: 10px; border-radius: 3px; margin: 5px 0;">
                        <strong>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã:</strong> 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
                    </div>
                    <div style="background: #252526; padding: 10px; border-radius: 3px; margin: 5px 0;">
                        <strong>AI –ß–∞—Ç:</strong> 5 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
                    </div>
                `;
            }
            
            if (requestStats) {
                requestStats.innerHTML = `
                    <div style="background: #252526; padding: 10px; border-radius: 3px; margin: 5px 0;">
                        <strong>–ó–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É:</strong> 47
                    </div>
                    <div style="background: #252526; padding: 10px; border-radius: 3px; margin: 5px 0;">
                        <strong>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞:</strong> 120ms
                    </div>
                    <div style="background: #252526; padding: 10px; border-radius: 3px; margin: 5px 0;">
                        <strong>–û—à–∏–±–æ–∫:</strong> 0
                    </div>
                `;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        function refreshMonitoring() {
            loadMonitoringData();
            logDebug('info', 'üìä –î–∞–Ω–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã');
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function runSecurityScan() {
            logDebug('info', 'üîç –ó–∞–ø—É—Å–∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...');
            
            setTimeout(() => {
                logDebug('success', '‚úÖ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ');
                logDebug('info', 'üîí –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ');
                logDebug('warning', '‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é');
            }, 2000);
        }

        // –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
        async function testControllersModule() {
            try {
                // –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å PMAC
                const response = await fetch('http://localhost:8090/api/controllers/topic/pmac', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ concept: 'pmac' })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.data) {
                        logDebug('success', `‚úÖ –ú–æ–¥—É–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ü–æ–ª—É—á–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ PMAC`);
                        return data;
                    } else {
                        logDebug('warning', `‚ö†Ô∏è –ú–æ–¥—É–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ–ø–æ–ª–Ω—ã–µ`);
                        return data;
                    }
                } else {
                    logDebug('error', `‚ùå –û—à–∏–±–∫–∞ HTTP ${response.status}: ${response.statusText}`);
                    return null;
                }
            } catch (error) {
                logDebug('error', `‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ${error.message}`);
                return null;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏
        async function testNeuralNetwork() {
            try {
                addMessage('ai', 'üß† –¢–µ—Å—Ç–∏—Ä—É—é –Ω–µ–π—Ä–æ–Ω–Ω—É—é —Å–µ—Ç—å...');
                
                // –¢–µ—Å—Ç–∏—Ä—É–µ–º –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏
                const response = await fetch('http://localhost:8090/api/neuro/status', {
                    method: 'GET',
                    headers: { 'Content-Type': 'application/json' }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.response) {
                        addMessage('ai', '‚úÖ –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ –Ω–µ–π—Ä–æ—Å–µ—Ç—è—Ö');
                        logDebug('success', `‚úÖ –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç. –û—Ç–≤–µ—Ç: ${data.response.substring(0, 100)}...`);
                        return data;
                    } else {
                        addMessage('ai', '‚ö†Ô∏è –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –æ—Ç–≤–µ—Ç –Ω–µ–ø–æ–ª–Ω—ã–π');
                        logDebug('warning', `‚ö†Ô∏è –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ–ø–æ–ª–Ω—ã–µ`);
                        return data;
                    }
                } else {
                    addMessage('ai', `‚ùå –û—à–∏–±–∫–∞ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏ HTTP ${response.status}`);
                    logDebug('error', `‚ùå –û—à–∏–±–∫–∞ HTTP ${response.status}: ${response.statusText}`);
                    return null;
                }
            } catch (error) {
                addMessage('ai', `‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç—å—é: ${error.message}`);
                logDebug('error', `‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ${error.message}`);
                return null;
            }
        }

        // ===== –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ =====
        function recordError(message, detail) {
            const timestamp = new Date().toLocaleString();
            const full = `[${timestamp}] ${message}${detail ? ' | ' + detail : ''}`;
            // –í –∫–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏
            logDebug('error', full);
            // –í –ø–∞–Ω–µ–ª—å –æ—à–∏–±–æ–∫
            const errorLogs = document.getElementById('errorLogs');
            if (errorLogs) {
                const entry = document.createElement('div');
                entry.className = 'debug-entry error';
                entry.textContent = full;
                errorLogs.prepend(entry);
            }
        }

        window.addEventListener('error', function (event) {
            recordError(`JS Error: ${event.message}`, `${event.filename}:${event.lineno}:${event.colno}`);
        });

        window.addEventListener('unhandledrejection', function (event) {
            recordError('Unhandled promise rejection', String(event.reason));
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Ç–µ
        function debugRequest(message) {
            if (message.toLowerCase().includes('debug') || message.toLowerCase().includes('–æ—Ç–ª–∞–¥–∫–∞')) {
                addMessage('ai', 'üîç –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω. –¢–µ—Å—Ç–∏—Ä—É—é –º–æ–¥—É–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤...');
                testControllersModule().then(data => {
                    if (data) {
                        addMessage('ai', `üìä –î–∞–Ω–Ω—ã–µ –æ—Ç –º–æ–¥—É–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤:\n${JSON.stringify(data, null, 2)}`);
                    } else {
                        addMessage('ai', '‚ùå –ú–æ–¥—É–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É');
                    }
                });
                return true;
            }
            return false;
        }

        // –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç –º–æ–¥—É–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
        function formatControllersResponse(data) {
            if (!data || !data.data) return '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç –º–æ–¥—É–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤';
            
            const info = data.data;
            let response = '';
            
            if (info.name) response += `**${info.name}**\n`;
            if (info.description) response += `${info.description}\n\n`;
            
            if (info.types && Array.isArray(info.types)) {
                response += `**–í–∏–¥—ã —ç–Ω–∫–æ–¥–µ—Ä–æ–≤:**\n`;
                info.types.forEach((type, index) => {
                    response += `${index + 1}. ${type}\n`;
                });
                response += '\n';
            }
            
            if (info.purpose && Array.isArray(info.purpose)) {
                response += `**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**\n`;
                info.purpose.forEach((purpose, index) => {
                    response += `${index + 1}. ${purpose}\n`;
                });
                response += '\n';
            }
            
            if (info.applications && Array.isArray(info.applications)) {
                response += `**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**\n`;
                info.applications.forEach((app, index) => {
                    response += `${index + 1}. ${app}\n`;
                });
                response += '\n';
            }
            
            if (info.principles && Array.isArray(info.principles)) {
                response += `**–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã:**\n`;
                info.principles.forEach((principle, index) => {
                    response += `${index + 1}. ${principle}\n`;
                });
            }
            
            return response.trim();
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º —á–∞—Ç–∞
        function openChatModal() {
            const chatModal = document.getElementById('chat-modal-window');
            const overlay = document.getElementById('chat-modal-overlay');
            const chatMessages = document.getElementById('chatMessages');
            
            if (chatModal && overlay) {
                overlay.style.display = 'block';
                chatModal.style.display = 'flex';
                
                // –ï—Å–ª–∏ —á–∞—Ç –ø—É—Å—Ç, –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                if (chatMessages && chatMessages.children.length < 1) {
                     addMessage('ai', '–ü—Ä–∏–≤–µ—Ç! –Ø Rubin AI. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?');
                }
            }
        }

        function closeChatModal() {
            const chatModal = document.getElementById('chat-modal-window');
            const overlay = document.getElementById('chat-modal-overlay');
            if (chatModal && overlay) {
                overlay.style.display = 'none';
                chatModal.style.display = 'none';
            }
        }
        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∞–≤—Ç–æ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        let autoQuestionInterval = null;

        // –ú–∞—Å—Å–∏–≤ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∞–≤—Ç–æ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const autoQuestions = [
            "–ß—Ç–æ —Ç–∞–∫–æ–µ —ç–Ω–∫–æ–¥–µ—Ä –∏ –∫–∞–∫–∏–µ –æ–Ω–∏ –±—ã–≤–∞—é—Ç?",
            "–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –∑–∞–∫–æ–Ω –û–º–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π —Ü–µ–ø–∏",
            "–ù–∞–ø–∏—à–∏ –ø—Ä–æ—Å—Ç–æ–π PLC-–∫–æ–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–≤–µ–π–µ—Ä–æ–º",
            "–ö–∞–∫–∏–µ –±—ã–≤–∞—é—Ç —Ç–∏–ø—ã –∞–Ω—Ç–µ–Ω–Ω –∏ –≤ —á–µ–º –∏—Ö —Ä–∞–∑–Ω–∏—Ü–∞?",
			"–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∏ –∫–∞–∫ –µ–≥–æ —É–ª—É—á—à–∏—Ç—å?",
			"–ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –º–æ—â–Ω–æ—Å—Ç—å –≤ —Ç—Ä–µ—Ö—Ñ–∞–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ?",
			"–ö–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–≤–µ–π–µ—Ä–æ–º –Ω–∞ Python?",
			"–°—Ä–∞–≤–Ω–∏ C++ –∏ Python –¥–ª—è –∑–∞–¥–∞—á –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏?",
			"–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?",
            "–ß—Ç–æ —Ç–∞–∫–æ–µ PMAC –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?",
			"–ö–∞–∫ —Ä–µ—à–∏—Ç—å –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ x¬≤ - 5x + 6 = 0?",
			"–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ü–µ–ø–∏ –æ—Ç –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞–º—ã–∫–∞–Ω–∏—è?",
			"–û–±—ä—è—Å–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è?",
			"–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∏ –∫–∞–∫ –µ–≥–æ —É–ª—É—á—à–∏—Ç—å?",
            "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä? –û–±—ä—è—Å–Ω–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏.",
            "–°—Ä–∞–≤–Ω–∏ C++ –∏ Python –¥–ª—è –∑–∞–¥–∞—á –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏",
            "–ß—Ç–æ —Ç–∞–∫–æ–µ SCADA —Å–∏—Å—Ç–µ–º–∞?",
			"–∑–∞–∫–æ–Ω –ö–∏—Ä—Ö–≥–æ—Ñ–∞?",
			"–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ü–õ–ö?",
			"–û—Ç–ª–∞–¥–∫–∞ –∏ –ü–æ–∏—Å–∫ –ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π?",
			"–°–ª–æ–∂–Ω—ã–µ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è?",
			"–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å?",
			"–í–æ–ø—Ä–æ—Å—ã –Ω–∞ –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ?",
			"—á—Ç–æ —Ç–∞–∫–æ–µ —Å–∏–º–∏—Å—Ç—Ä?",
			"—á—Ç–æ —Ç–∞–∫–æ–µ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä?",
			"—á—Ç–æ —Ç–∞–∫–æ–µ –¥–∏–æ–¥?",
			"—á—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä?",
			"—á—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä?",
			"–û—Å–Ω–æ–≤—ã –∏ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ?",
			"–û—Ç–ø—Ä–∞–≤–∫–∞ ASCII-–∫–æ–º–∞–Ω–¥ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤?",
			"–†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ PMAC (DPR)?",
			"–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º (Downloading/Uploading)?",
			"–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ PMAC?",
			"–°–æ–±—ã—Ç–∏—è –∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (Events & Interrupts)?",
			"–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (Data Gathering)?",
			"–û—Å–Ω–æ–≤—ã –∏ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è?",
			"PLC Programs",
			"–ü–õ–ö",
			"–∫–∞–∫ —Ä—É–±–∏–Ω –æ–±—É—á–∞–µ—Ç—Å—è",
			"–∫–∞–∫ —Ä—É–±–∏–Ω –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–µ–±—è",
			"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞ –∏ –§–∞–π–ª—ã?",
			"–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ?",
			"–õ–æ–≥–∏–∫–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è (IF/ENDIF)?",
			"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (`USER_CFG.xls`)?",
			"–û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫ (`user_error.xml`)?",
			"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –†–µ–∂–∏–º—ã –∏ –ü—Ä–∞–∫—Ç–∏–∫–∞?",
			"–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º?",
			"–°—Ç—Ä–æ–∫–æ–≤—ã–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏?",
			"–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏?",
			"–í–æ–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤?",
			"—á—Ç–æ —Ç–∞–∫–æ–µ –ø–ª–∞—Ç–∞ –®–ò–ú –∏ –∑–∞ —á—Ç–æ –æ–Ω–∞ –æ—Ç–≤–µ—á–∞–µ—Ç?",
			"–û–±—ä—è—Å–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä–∞?",
			"—á—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?",
			"–û–±—ä—è—Å–Ω–∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏?",
			"–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–¥–∏–æ–ø–µ—Ä–µ–¥–∞—Ç—á–∏–∫ –¥–ª—è —Å–≤—è–∑–∏?",
			"–∫–∞–∫ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Å —á–ø—É –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä?",
            "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å?",
            "–û–ø–∏—à–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª Modbus RTU"
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
        function sendRandomQuestion() {
            const messageInput = document.getElementById('messageInput');
            if (!messageInput) return;

            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            const randomQuestion = autoQuestions[Math.floor(Math.random() * autoQuestions.length)];
            
            // –í—Å—Ç–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º
            messageInput.value = randomQuestion;
            sendMessage();
            logDebug('info', `ü§ñ –ê–≤—Ç–æ-—Ç–µ—Å—Ç: –∑–∞–¥–∞–Ω –≤–æ–ø—Ä–æ—Å "${randomQuestion}"`);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–≤—Ç–æ-—Ç–µ—Å—Ç–∞
        function startAutoQuestions() {
            if (autoQuestionInterval) return; // –ï—Å–ª–∏ —É–∂–µ –∑–∞–ø—É—â–µ–Ω, –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º

            logDebug('success', '‚ñ∂Ô∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ —á–∞—Ç–∞ –∑–∞–ø—É—â–µ–Ω. –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∑–∞–¥–∞–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥.');
            
            // –ú–µ–Ω—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫
            const startBtn = document.getElementById('startAutoBtn');
            const stopBtn = document.getElementById('stopAutoBtn');
            if(startBtn) startBtn.style.display = 'none';
            if(stopBtn) stopBtn.style.display = 'block';

            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª
            autoQuestionInterval = setInterval(sendRandomQuestion, 10000); // 10 —Å–µ–∫—É–Ω–¥
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–≤—Ç–æ-—Ç–µ—Å—Ç–∞
        function stopAutoQuestions() {
            if (!autoQuestionInterval) return; // –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω, –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º

            logDebug('warning', '‚èπÔ∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ —á–∞—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.');

            // –ú–µ–Ω—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫
            const startBtn = document.getElementById('startAutoBtn');
            const stopBtn = document.getElementById('stopAutoBtn');
            if(startBtn) startBtn.style.display = 'block';
            if(stopBtn) stopBtn.style.display = 'none';

            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª
            clearInterval(autoQuestionInterval);
            autoQuestionInterval = null;
        }

        // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∫–Ω–æ–ø–∫–∞–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', function() {
            const startBtn = document.getElementById('startAutoBtn');
            const stopBtn = document.getElementById('stopAutoBtn');

            if (startBtn) {
                startBtn.addEventListener('click', startAutoQuestions);
            }
            if (stopBtn) {
                stopBtn.addEventListener('click', stopAutoQuestions);
            }
        });

        // ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ Unified Manager
        async function startServerByName(moduleName) {
            const name = (moduleName || '').trim();
            const map = {
                '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞': 'mathematics',
                '–≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞': 'electrical',
                '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ': 'programming',
                'Neuro': 'neuro',
                '–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã': 'controllers',
                'Unified Manager': 'unified_manager',
                '–û–±—â–∏–π —Å–µ—Ä–≤–µ—Ä': 'general',
                'Smart Dispatcher': 'smart_dispatcher'
            };
            const key = map[name];
            if (!key) {
                logDebug('error', `üö´ –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞: ${name}`);
                addMessage('ai', `‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–æ–¥—É–ª—å: ${name}`);
                return;
            }
            try {
                logDebug('info', `‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª—è ${name} —á–µ—Ä–µ–∑ Unified Manager...`);
                const resp = await fetch(`http://localhost:8084/api/system/start/${encodeURIComponent(key)}`, {
                    method: 'POST'
                });
                if (!resp.ok) {
                    const txt = await resp.text().catch(()=> '');
                    throw new Error(`HTTP ${resp.status} ${txt}`);
                }
                addMessage('ai', `‚úÖ –ó–∞–ø—É—Å–∫ "${name}" –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω`);
                // –û–±–Ω–æ–≤–∏–º —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –ø–∞—É–∑—É
                setTimeout(async () => {
                    const m = modules.find(m => m.name === name);
                    if (m) {
                        await checkModuleStatus(m);
                        updateModuleStatus();
                        updateSystemStatus();
                    }
                }, 1500);
            } catch (e) {
                logDebug('error', `‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ ${name}: ${e.message}`);
                addMessage('ai', `‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ ${name}: ${e.message}`);
            }
        }
</script>
</body>
</html>
