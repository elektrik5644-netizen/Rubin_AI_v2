#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
üîß SIMPLE PLC ANALYSIS API SERVER
–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
"""

from flask import Flask, jsonify, request
from flask_cors import CORS
import logging
import os

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

app = Flask(__name__)
CORS(app)

# –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ PLC
PLC_KNOWLEDGE = {
    "–∞–Ω–∞–ª–∏–∑": {
        "explanation": "üîç **–ê–Ω–∞–ª–∏–∑ PLC –ø—Ä–æ–≥—Ä–∞–º–º** –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:\n\n**–û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã:**\n1. **–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞\n2. **–õ–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã\n3. **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n4. **–ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π\n\n**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞:**\n- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞\n- –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã\n- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞:**\n- –û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö\n- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é\n- –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞\n- –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏",
        "keywords": ["–∞–Ω–∞–ª–∏–∑", "–ø—Ä–æ–≤–µ—Ä–∫–∞", "—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ", "–æ—Ç–ª–∞–¥–∫–∞"]
    },
    "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ": {
        "explanation": "üíª **–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ PLC** –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–∞ —è–∑—ã–∫–∞—Ö –ú–≠–ö 61131-3:\n\n**–û—Å–Ω–æ–≤–Ω—ã–µ —è–∑—ã–∫–∏:**\n- **Ladder Diagram (LD)** - —Ä–µ–ª–µ–π–Ω–∞—è –ª–æ–≥–∏–∫–∞\n- **Function Block Diagram (FBD)** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏\n- **Structured Text (ST)** - —Ç–µ–∫—Å—Ç–æ–≤—ã–π —è–∑—ã–∫\n- **Instruction List (IL)** - —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π\n- **Sequential Function Chart (SFC)** - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏\n\n**–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:**\n- –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å\n- –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞\n- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n\n**–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤\n- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫\n- –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π",
        "keywords": ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", "–∫–æ–¥", "—è–∑—ã–∫", "—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞", "—Å–æ–∑–¥–∞–Ω–∏–µ"]
    },
    "–æ—Ç–ª–∞–¥–∫–∞": {
        "explanation": "üêõ **–û—Ç–ª–∞–¥–∫–∞ PLC –ø—Ä–æ–≥—Ä–∞–º–º** - –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–æ–∫:\n\n**–¢–∏–ø—ã –æ—à–∏–±–æ–∫:**\n- **–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ** - –æ—à–∏–±–∫–∏ –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞\n- **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ** - –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∏–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã\n- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ** - –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–∞–π–º–∏–Ω–≥–æ–º\n- **–ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ** - –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º\n\n**–ú–µ—Ç–æ–¥—ã –æ—Ç–ª–∞–¥–∫–∏:**\n- –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ\n- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞\n- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö\n- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π\n- –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã\n\n**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**\n- –û—Ç–ª–∞–¥—á–∏–∫ PLC\n- –°–∏–º—É–ª—è—Ç–æ—Ä\n- –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥–∏–∫–∏\n- –ú–æ–Ω–∏—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö\n\n**–ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–ª–∞–¥–∫–∏:**\n1. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ—à–∏–±–∫–∏\n2. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã\n3. –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω\n4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ\n5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
        "keywords": ["–æ—Ç–ª–∞–¥–∫–∞", "–æ—à–∏–±–∫–∏", "–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", "–ø–æ–∏—Å–∫", "—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ"]
    },
    "–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è": {
        "explanation": "‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è PLC –ø—Ä–æ–≥—Ä–∞–º–º** - —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:\n\n**–¶–µ–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**\n- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n- –°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤\n- –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏\n- –ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏\n\n**–ú–µ—Ç–æ–¥—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**\n- **–ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è** - —É–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏\n- **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è** - —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞\n- **–í—Ä–µ–º–µ–Ω–Ω–∞—è** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–∏–Ω–≥–∞\n- **–†–µ—Å—É—Ä—Å–Ω–∞—è** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏\n\n**–¢–µ—Ö–Ω–∏–∫–∏:**\n- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤\n- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö\n- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞\n- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**\n- –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏\n- –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞\n- –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤\n- –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏",
        "keywords": ["–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", "—É–ª—É—á—à–µ–Ω–∏–µ", "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", "—Å–∫–æ—Ä–æ—Å—Ç—å"]
    },
    "–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": {
        "explanation": "üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å PLC —Å–∏—Å—Ç–µ–º** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–±–æ–µ–≤ –∏ –∞—Ç–∞–∫:\n\n**–£–≥—Ä–æ–∑—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**\n- **–ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Å–±–æ–∏** - –æ—Ç–∫–∞–∑ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è\n- **–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –æ—à–∏–±–∫–∏** - –±–∞–≥–∏ –≤ –∫–æ–¥–µ\n- **–ö–∏–±–µ—Ä–∞—Ç–∞–∫–∏** - –≤–Ω–µ—à–Ω–∏–µ –∞—Ç–∞–∫–∏\n- **–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä** - –æ—à–∏–±–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤\n\n**–ü—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**\n- **Fail-Safe** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ —Å–±–æ–µ\n- **Redundancy** - —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º\n- **Isolation** - –∏–∑–æ–ª—è—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π\n- **Monitoring** - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥\n\n**–ú–µ—Ä—ã –∑–∞—â–∏—Ç—ã:**\n- –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ\n- –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏\n- –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞\n- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞\n- –ê—É–¥–∏—Ç —Å–æ–±—ã—Ç–∏–π\n\n**–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã:**\n- IEC 61508 - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n- IEC 62443 - –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n- ISO 13849 - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –º–∞—à–∏–Ω",
        "keywords": ["–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "–∑–∞—â–∏—Ç–∞", "–±–µ–∑–æ–ø–∞—Å–Ω—ã–π", "–Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å", "–∑–∞—â–∏—â–µ–Ω–Ω–æ—Å—Ç—å"]
    }
}

@app.route('/api/plc/health', methods=['GET'])
def health():
    return jsonify({
        "status": "healthy",
        "message": "Simple PLC Analysis API —Ä–∞–±–æ—Ç–∞–µ—Ç",
        "module": "PLC Analysis API",
        "version": "2.0",
        "timestamp": os.getenv('FLASK_RUN_FROM_START_TIME')
    }), 200

@app.route('/api/plc/status', methods=['GET'])
def status():
    return jsonify({
        "status": "healthy",
        "message": "Simple PLC Analysis API —Ä–∞–±–æ—Ç–∞–µ—Ç",
        "capabilities": ["–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º", "–û—Ç–ª–∞–¥–∫–∞", "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"]
    }), 200

@app.route('/api/plc/analyze', methods=['POST'])
def analyze():
    """–ê–Ω–∞–ª–∏–∑ PLC –ø—Ä–æ–≥—Ä–∞–º–º—ã"""
    data = request.get_json()
    query = data.get('query', '').lower()
    
    # –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
    for key, info in PLC_KNOWLEDGE.items():
        for keyword in info['keywords']:
            if keyword in query:
                return jsonify({
                    "analysis": info['explanation'],
                    "category": "plc_analysis",
                    "matched_keyword": keyword,
                    "recommendations": [
                        "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≥—Ä–∞–º–º—ã",
                        "–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ",
                        "–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è",
                        "–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏"
                    ]
                }), 200
    
    return jsonify({
        "analysis": "–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ PLC –ø—Ä–æ–≥—Ä–∞–º–º—ã —É—Ç–æ—á–Ω–∏—Ç–µ —Ç–µ–º—É: '–∞–Ω–∞–ª–∏–∑', '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', '–æ—Ç–ª–∞–¥–∫–∞', '–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è' –∏–ª–∏ '–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å'.",
        "available_topics": list(PLC_KNOWLEDGE.keys()),
        "category": "plc_analysis"
    }), 200

@app.route('/api/plc/knowledge', methods=['POST'])
def knowledge():
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π –ø–æ PLC"""
    data = request.get_json()
    topic = data.get('topic', '').lower()
    
    for key, info in PLC_KNOWLEDGE.items():
        if topic in key or any(topic in keyword for keyword in info['keywords']):
            return jsonify({
                "knowledge": info['explanation'],
                "keywords": info['keywords'],
                "category": "plc_analysis"
            }), 200
    
    return jsonify({
        "knowledge": f"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Ç–µ–º–µ '{topic}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–º—ã: –∞–Ω–∞–ª–∏–∑, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ª–∞–¥–∫–∞, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.",
        "available_topics": list(PLC_KNOWLEDGE.keys()),
        "category": "plc_analysis"
    }), 200

if __name__ == '__main__':
    logger.info("üîß Simple PLC Analysis API Server –∑–∞–ø—É—â–µ–Ω")
    app.run(port=8099, debug=True, use_reloader=False)








