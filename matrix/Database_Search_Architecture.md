# –ü–æ–∏—Å–∫–æ–≤–∏–∫ –ø–æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç—ã

## üîÑ –û–±—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    RubinIDE.html (Frontend)                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üîç –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å  ‚îÇ  üìù –í–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  ‚îÇ  üéØ –ö–æ–º–∞–Ω–¥—ã   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
                      ‚îÇ HTTP POST Request
                      ‚îÇ Content-Type: application/json
                      ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              minimal_rubin_server.py (Backend)                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üì° API Endpoint: /api/chat                                    ‚îÇ
‚îÇ  üîç –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞                                          ‚îÇ
‚îÇ  üß† –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
                      ‚îÇ HTTP Response
                      ‚îÇ Content-Type: application/json
                      ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    RubinIDE.html (Frontend)                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞  ‚îÇ  üí¨ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  ‚îÇ  üé® UI   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üß† –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

### 1. **–ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ (Frontend)**

#### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥:**
```javascript
// –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
function searchDocuments() {
    const query = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å:');
    if (query) {
        appendChatMessage('user', `üîç –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: "${query}"`);
        searchDocumentsInDatabase(query);
    }
}
```

#### **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:**
```javascript
async function searchDocumentsInDatabase(query) {
    try {
        // 1. –ü–û–î–ì–û–¢–û–í–ö–ê –î–ê–ù–ù–´–• –ó–ê–ü–†–û–°–ê
        const requestData = {
            query: query,        // –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
            limit: 5            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        };
        
        // 2. –û–¢–ü–†–ê–í–ö–ê HTTP –ó–ê–ü–†–û–°–ê
        const response = await fetch('http://localhost:8083/api/chat', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(requestData)
        });
```

### 2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Backend)**

#### **–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞:**
```python
def do_POST(self):
    parsed_path = urlparse(self.path)
    
    if parsed_path.path == '/api/chat':
        # 1. –ß–¢–ï–ù–ò–ï –î–ê–ù–ù–´–• –ó–ê–ü–†–û–°–ê
        content_length = int(self.headers['Content-Length'])
        post_data = self.rfile.read(content_length)
        
        try:
            # 2. –ü–ê–†–°–ò–ù–ì JSON
            data = json.loads(post_data.decode('utf-8'))
            message = data.get('message', '')
            
            # 3. –û–ë–†–ê–ë–û–¢–ö–ê –ó–ê–ü–†–û–°–ê
            response_text = self.generate_chat_response(message)
```

#### **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞:**
```python
def generate_chat_response(self, message):
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —á–∞—Ç–∞"""
    message_lower = message.lower()
    
    # –ê–ù–ê–õ–ò–ó –ö–õ–Æ–ß–ï–í–´–• –°–õ–û–í –ò –ì–ï–ù–ï–†–ê–¶–ò–Ø –û–¢–í–ï–¢–û–í
    if "–ø—Ä–∏–≤–µ—Ç" in message_lower or "hello" in message_lower:
        return "–ü—Ä–∏–≤–µ—Ç! –Ø Rubin AI. –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π!"
    elif "python" in message_lower:
        return "Python - –æ—Ç–ª–∏—á–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è! –ú–æ–≥—É –ø–æ–º–æ—á—å —Å –∞–Ω–∞–ª–∏–∑–æ–º –∫–æ–¥–∞, —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–ª–∏ —Ä–µ—à–µ–Ω–∏–µ–º –∑–∞–¥–∞—á."
    elif "plc" in message_lower or "–ø–ª—Ü" in message_lower:
        return "PLC –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - –º–æ—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è! –ü–æ–º–æ–≥—É —Å Ladder Logic, Structured Text, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π PMAC."
    elif "pmac" in message_lower:
        return "PMAC –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã - —ç—Ç–æ –º–æ—è –æ–±–ª–∞—Å—Ç—å! –ú–æ–≥—É –ø–æ–º–æ—á—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π."
    else:
        return f"–ü–æ–Ω—è–ª –≤–∞—à –∑–∞–ø—Ä–æ—Å: '{message}'. –Ø —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ PLC, PMAC –∏ –∞–Ω–∞–ª–∏–∑–µ –∫–æ–¥–∞. –ß–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –º–æ–≥—É –ø–æ–º–æ—á—å?"
```

#### **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞:**
```python
# 4. –§–û–†–ú–ò–†–û–í–ê–ù–ò–ï HTTP –û–¢–í–ï–¢–ê
self.send_response(200)
self.send_header('Content-type', 'application/json')
self.send_header('Access-Control-Allow-Origin', '*')
self.end_headers()

response = {
    "response": response_text,
    "session_id": "default",
    "timestamp": time.strftime("%Y-%m-%dT%H:%M:%SZ"),
    "processing_time": 0.1
}
self.wfile.write(json.dumps(response, ensure_ascii=False).encode('utf-8'))
```

### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ (Frontend)**

#### **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞:**
```javascript
// 3. –û–ë–†–ê–ë–û–¢–ö–ê –û–¢–í–ï–¢–ê –°–ï–†–í–ï–†–ê
const result = await response.json();

if (result.status === 'success') {
    const documents = result.data.results;
    if (documents.length > 0) {
        // 4. –§–û–†–ú–ò–†–û–í–ê–ù–ò–ï –°–û–û–ë–©–ï–ù–ò–Ø –° –†–ï–ó–£–õ–¨–¢–ê–¢–ê–ú–ò
        let message = `üîç –ù–∞–π–¥–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: ${documents.length}\n\n`;
        documents.forEach((doc, index) => {
            message += `${index + 1}. **${doc.filename}**\n`;
            message += `   üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${doc.category}\n`;
            message += `   üè∑Ô∏è –¢–µ–≥–∏: ${doc.tags.join(', ')}\n`;
            message += `   üìä –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: ${doc.relevance}\n`;
            message += `   üìÑ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä: ${doc.content.substring(0, 100)}...\n\n`;
        });
        appendChatMessage('assistant', message);
    } else {
        appendChatMessage('assistant', 'üîç –î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å.');
    }
} else {
    appendChatMessage('error', `‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞: ${result.message}`);
}
```

#### **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
```javascript
function appendChatMessage(type, message) {
    const chatMessages = document.getElementById('chat-messages');
    const messageDiv = document.createElement('div');
    messageDiv.className = `chat-message ${type}`;
    messageDiv.textContent = message;
    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}
```

## üîç –¢–∏–ø—ã –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 1. **–ü—Ä—è–º—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
const query = "Python –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ";
searchDocumentsInDatabase(query);
```

### 2. **–ö–æ–º–∞–Ω–¥—ã –≤ —á–∞—Ç–µ**
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –ø–æ–∏—Å–∫–∞
if (text.toLowerCase().includes('–Ω–∞–π–¥–∏') || 
    text.toLowerCase().includes('–ø–æ–∏—Å–∫') ||
    text.toLowerCase().includes('–∏—â–∏')) {
    // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
    const searchQuery = extractSearchQuery(text);
    searchDocumentsInDatabase(searchQuery);
}
```

### 3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
```javascript
// –ü–æ–∏—Å–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
if (message.includes('–¥–æ–∫—É–º–µ–Ω—Ç—ã') || message.includes('—Ñ–∞–π–ª—ã')) {
    // –ü–æ–∏—Å–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    searchDocumentsInDatabase(message);
}
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### **–ó–∞–ø—Ä–æ—Å (Request):**
```json
{
    "query": "Python –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "limit": 5
}
```

### **–û—Ç–≤–µ—Ç (Response):**
```json
{
    "status": "success",
    "data": {
        "results": [
            {
                "filename": "python_tutorial.py",
                "category": "python_code",
                "tags": ["python", "tutorial", "programming"],
                "relevance": 0.95,
                "content": "def hello_world():\n    print('Hello, World!')",
                "document_id": "doc_123",
                "file_size": 1024,
                "content_length": 50
            }
        ],
        "total_found": 1,
        "search_time": 0.05
    },
    "timestamp": "2024-01-15T10:30:00Z"
}
```

## üéØ –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞

### 1. **–ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞**
```python
def analyze_search_query(query):
    """–ê–Ω–∞–ª–∏–∑ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞"""
    query_lower = query.lower()
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
    keywords = extract_keywords(query_lower)
    
    # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–∏—Å–∫–∞
    search_type = determine_search_type(query_lower)
    
    # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
    priority = calculate_priority(keywords)
    
    return {
        "keywords": keywords,
        "search_type": search_type,
        "priority": priority
    }
```

### 2. **–ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**
```python
def search_in_database(query, limit=5):
    """–ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö"""
    # 1. –ü–û–î–ì–û–¢–û–í–ö–ê –ó–ê–ü–†–û–°–ê
    search_terms = prepare_search_terms(query)
    
    # 2. –í–´–ü–û–õ–ù–ï–ù–ò–ï –ü–û–ò–°–ö–ê
    results = database.search(
        terms=search_terms,
        limit=limit,
        fields=['content', 'filename', 'tags', 'category']
    )
    
    # 3. –†–ê–ù–ñ–ò–†–û–í–ê–ù–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–û–í
    ranked_results = rank_results(results, query)
    
    # 4. –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï –û–¢–í–ï–¢–ê
    formatted_results = format_search_results(ranked_results)
    
    return formatted_results
```

### 3. **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
```python
def rank_results(results, query):
    """–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞"""
    query_terms = query.lower().split()
    
    for result in results:
        score = 0
        
        # –ü–æ–∏—Å–∫ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞
        if any(term in result['filename'].lower() for term in query_terms):
            score += 10
        
        # –ü–æ–∏—Å–∫ –≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º
        content_matches = sum(1 for term in query_terms if term in result['content'].lower())
        score += content_matches * 5
        
        # –ü–æ–∏—Å–∫ –≤ —Ç–µ–≥–∞—Ö
        tag_matches = sum(1 for term in query_terms if term in ' '.join(result['tags']).lower())
        score += tag_matches * 8
        
        # –ü–æ–∏—Å–∫ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        if any(term in result['category'].lower() for term in query_terms):
            score += 6
        
        result['relevance'] = min(score / 20, 1.0)  # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ 0-1
    
    # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
    return sorted(results, key=lambda x: x['relevance'], reverse=True)
```

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã

### **1. –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –í–≤–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ ‚Üí searchDocuments() ‚Üí searchDocumentsInDatabase()
```

### **2. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞**
```
Frontend ‚Üí HTTP POST ‚Üí /api/chat ‚Üí Backend
```

### **3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
```
Backend ‚Üí –ü–∞—Ä—Å–∏–Ω–≥ JSON ‚Üí generate_chat_response() ‚Üí –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞ ‚Üí –ü–æ–∏—Å–∫ –≤ –ë–î
```

### **4. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞**
```
Backend ‚Üí –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí JSON Response ‚Üí Frontend
```

### **5. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
```
Frontend ‚Üí –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ ‚Üí appendChatMessage() ‚Üí UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### **–û—à–∏–±–∫–∏ —Å–µ—Ç–∏:**
```javascript
try {
    const response = await fetch('http://localhost:8083/api/chat', {
        method: 'POST',
        body: JSON.stringify(requestData)
    });
} catch (error) {
    appendChatMessage('error', `‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: ${error.message}`);
}
```

### **–û—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
```python
try:
    response_text = self.generate_chat_response(message)
except Exception as e:
    self.send_response(500)
    response = {"error": f"Chat processing failed: {str(e)}"}
    self.wfile.write(json.dumps(response).encode('utf-8'))
```

### **–û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞:**
```javascript
try {
    const result = await response.json();
    if (result.status === 'success') {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
    } else {
        appendChatMessage('error', `‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞: ${result.message}`);
    }
} catch (error) {
    appendChatMessage('error', `‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–∞: ${error.message}`);
}
```

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞

### **1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**
```python
# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
search_cache = {}

def cached_search(query):
    if query in search_cache:
        return search_cache[query]
    
    results = search_in_database(query)
    search_cache[query] = results
    return results
```

### **2. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è**
```python
# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
def create_search_index():
    index = {
        'keywords': {},
        'categories': {},
        'tags': {}
    }
    
    for doc in database.get_all_documents():
        # –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
        for word in doc['content'].split():
            if word not in index['keywords']:
                index['keywords'][word] = []
            index['keywords'][word].append(doc['id'])
    
    return index
```

### **3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```javascript
// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏
async function searchDocumentsInDatabase(query) {
    // –ü–æ–∫–∞–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏
    showLoadingIndicator();
    
    try {
        const response = await fetch('http://localhost:8083/api/chat', {
            method: 'POST',
            body: JSON.stringify({ query: query, limit: 5 })
        });
        
        const result = await response.json();
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    } finally {
        // –°–∫—Ä—ã—Ç–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏
        hideLoadingIndicator();
    }
}
```

## üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
- **–ó–∞–≥—Ä—É–∑–∫–∞** - —Å–ø–∏–Ω–Ω–µ—Ä –≤–æ –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–û—à–∏–±–∫–∏** - –∫—Ä–∞—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- **–ü—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

### **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
- **–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞** - –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** - —Å –∏–∫–æ–Ω–∫–æ–π –ø–∞–ø–∫–∏
- **–¢–µ–≥–∏** - —Ü–≤–µ—Ç–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å** - –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–º
- **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** - –ø–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `limit` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `category` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `tags` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥–∞–º
- `date_range` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ
- `file_type` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –í–µ—Å –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞: 10
- –í–µ—Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ: 5
- –í–µ—Å —Ç–µ–≥–æ–≤: 8
- –í–µ—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: 6
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 1.0
